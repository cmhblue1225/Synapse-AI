<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Synapse - 지식 비서</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <!-- 헤더 -->
        <div class="header">
            <div class="logo">
                <img src="icons/icon32.png" alt="Synapse" class="logo-icon">
                <h1 class="logo-text">Synapse</h1>
            </div>
            <div class="status" id="connectionStatus">
                <div class="status-dot offline" id="statusDot"></div>
                <span class="status-text" id="statusText">연결 확인 중...</span>
            </div>
        </div>

        <!-- 메인 액션 버튼들 -->
        <div class="actions">
            <button class="action-btn primary" id="clipPageBtn">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <span>현재 페이지 수집</span>
            </button>

            <button class="action-btn secondary" id="quickNoteBtn">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                    <path d="m18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                </svg>
                <span>빠른 노트 작성</span>
            </button>

            <button class="action-btn secondary" id="openSynapseBtn">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                    <polyline points="15,3 21,3 21,9"/>
                    <line x1="10" y1="14" x2="21" y2="3"/>
                </svg>
                <span>Synapse 열기</span>
            </button>
        </div>

        <!-- 빠른 노트 입력 영역 (숨겨짐) -->
        <div class="quick-note hidden" id="quickNoteForm">
            <div class="form-group">
                <label for="noteTitle">제목</label>
                <input type="text" id="noteTitle" placeholder="노트 제목을 입력하세요...">
            </div>
            <div class="form-group">
                <label for="noteContent">내용</label>
                <textarea id="noteContent" placeholder="노트 내용을 입력하세요..." rows="4"></textarea>
            </div>
            <div class="form-group">
                <label for="noteTags">태그</label>
                <input type="text" id="noteTags" placeholder="태그를 콤마로 구분하여 입력 (예: 아이디어, 업무)">
            </div>
            <div class="form-actions">
                <button class="btn secondary" id="cancelNoteBtn">취소</button>
                <button class="btn primary" id="saveNoteBtn">저장</button>
            </div>
        </div>

        <!-- 최근 수집 내역 -->
        <div class="recent-clips">
            <h3 class="section-title">최근 수집</h3>
            <div class="clips-list" id="recentClips">
                <!-- 동적으로 채워짐 -->
            </div>
        </div>

        <!-- 통계 -->
        <div class="stats">
            <div class="stat-item">
                <span class="stat-number" id="totalClips">0</span>
                <span class="stat-label">총 수집</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" id="pendingClips">0</span>
                <span class="stat-label">대기 중</span>
            </div>
        </div>

        <!-- 하단 설정 -->
        <div class="footer">
            <button class="footer-btn" id="settingsBtn">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="m12 1 2.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                설정
            </button>
            <button class="footer-btn" id="helpBtn">
                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="m9,9a3,3 0 1,1 6,0c0,2 -3,3 -3,3"/>
                    <path d="m12 17h.01"/>
                </svg>
                도움말
            </button>
        </div>

        <!-- 로딩 오버레이 -->
        <div class="loading-overlay hidden" id="loadingOverlay">
            <div class="spinner"></div>
            <p class="loading-text">처리 중...</p>
        </div>

        <!-- 알림 메시지 -->
        <div class="notification hidden" id="notification">
            <div class="notification-content">
                <span class="notification-message" id="notificationMessage"></span>
                <button class="notification-close" id="notificationClose">×</button>
            </div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>