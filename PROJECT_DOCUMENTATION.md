# Synapse AI - 차세대 지식 관리 시스템 완전 가이드

## 📖 목차

1. [프로젝트 개요](#프로젝트-개요)
2. [설계 철학 및 차별점](#설계-철학-및-차별점)
3. [핵심 기능 체계](#핵심-기능-체계)
4. [시스템 아키텍처](#시스템-아키텍처)
5. [사용자 경험 설계](#사용자-경험-설계)
6. [기술 스택 및 선택 이유](#기술-스택-및-선택-이유)
7. [보안 및 데이터 관리](#보안-및-데이터-관리)
8. [향후 발전 방향](#향후-발전-방향)

---

## 🎯 프로젝트 개요

### 탄생 배경

**Synapse AI**는 현대 지식 관리 도구들의 한계를 극복하기 위해 설계된 차세대 지능형 지식 관리 시스템입니다.

#### 기존 솔루션의 한계

**1. Obsidian의 한계**
- ❌ **단순한 노드 관계**: 양방향 링크([[wikilink]])는 있지만, 관계의 의미나 맥락을 표현할 수 없음
- ❌ **제한된 노드 내 작업**: 텍스트 편집에 국한되어 AI 기반 분석, 자동 요약, 퀴즈 생성 등 고급 기능 부재
- ❌ **수동 관리 의존**: 태그, 관계, 구조화를 모두 사용자가 수동으로 관리해야 함

**2. NotebookLM의 한계**
- ❌ **노드 간 연결 부재**: 개별 문서에 대한 AI 처리는 강력하지만, 문서들 간의 관계를 파악하지 못함
- ❌ **고립된 지식**: 각 문서가 독립적으로 존재하여 지식 간의 시너지를 얻을 수 없음
- ❌ **관계에서 파생되는 통찰 부족**: 연결된 지식에서 새로운 아이디어를 발견할 기회가 없음

### 우리의 해결책: 하이브리드 접근법

**Synapse AI**는 두 세계의 장점을 결합합니다:

✅ **Obsidian의 강력한 그래프 구조** + **NotebookLM의 AI 지능**

```
┌─────────────────────────────────────────────────────────────┐
│                    Synapse AI 통합 모델                       │
│                                                               │
│  ┌──────────────────────┐    ┌──────────────────────────┐  │
│  │  풍부한 노드 관계     │    │   강력한 AI 기능          │  │
│  │  (from Obsidian)     │◄───┤   (from NotebookLM)      │  │
│  │                      │    │                          │  │
│  │  • 5가지 관계 타입    │    │  • 자동 파일 요약         │  │
│  │  • 가중치 설정        │    │  • 벡터 의미 검색         │  │
│  │  • 관계 코멘트        │    │  • AI 채팅 & 질의응답     │  │
│  │  • 인터랙티브 그래프  │    │  • 스마트 태그 추천       │  │
│  │  • 양방향 탐색        │    │  • 자동 관계 발견         │  │
│  └──────────────────────┘    └──────────────────────────┘  │
│                                                               │
│           = 더 스마트하고 연결된 지식 생태계                   │
└─────────────────────────────────────────────────────────────┘
```

### 핵심 가치 제안

1. **구조화된 지식 + AI 지능**: 그래프 기반 구조와 AI 분석의 완벽한 조화
2. **자동화된 워크플로우**: PDF 업로드부터 요약 생성까지 모든 과정 자동화
3. **의미 있는 관계**: 5가지 타입의 관계(REFERENCES, EXPANDS_ON, CONTRADICTS, SUPPORTS, IS_A)로 지식의 맥락 표현
4. **실시간 발견**: AI가 지속적으로 노드 간 숨겨진 연결을 찾아냄
5. **개인화된 학습**: 내 지식 저장소를 기반으로 한 맞춤형 AI 채팅 및 퀴즈

---

## 🏗 설계 철학 및 차별점

### 1. 지식 그래프 중심 설계

**철학**: "지식은 고립된 정보가 아니라, 연결된 네트워크다"

#### 5가지 관계 타입 시스템

Synapse는 단순한 링크를 넘어서 **의미론적 관계**를 지원합니다:

```typescript
type EdgeType =
  | 'REFERENCES'      // 인용 및 참조 관계
  | 'EXPANDS_ON'      // 확장 및 상세 설명
  | 'CONTRADICTS'     // 대립 및 반론
  | 'SUPPORTS'        // 근거 및 지지
  | 'IS_A'            // 분류 및 상위 개념
```

**실제 사용 예시**:
- 📚 "머신러닝 개론" **REFERENCES** "신경망 기초"
- 🔍 "딥러닝 아키텍처" **EXPANDS_ON** "신경망 기초"
- ⚡ "규칙 기반 AI" **CONTRADICTS** "데이터 기반 AI"
- ✅ "실험 결과 A" **SUPPORTS** "가설 B"
- 🏷️ "ResNet" **IS_A** "합성곱 신경망"

각 관계는 **가중치**(0.0-1.0)와 **사용자 코멘트**를 가질 수 있어, 관계의 강도와 맥락을 세밀하게 표현합니다.

### 2. AI 기반 자동화

**철학**: "반복적인 작업은 AI에게, 창의적인 사고는 인간에게"

#### 완전 자동화된 파일 처리 파이프라인

```
[PDF 업로드]
    ↓
[Supabase Edge Function에서 텍스트 추출]
    ↓
[OpenAI GPT-4o-mini로 200단어 요약 생성]
    ↓
[OpenAI text-embedding-3-small로 벡터화 (1536차원)]
    ↓
[PostgreSQL + pgvector에 저장]
    ↓
[사용자에게 요약 표시 및 검색 가능]
```

**사용자 경험**:
- 사용자는 단순히 PDF를 드래그 앤 드롭
- 1-2초 후 자동으로 요약이 생성되어 표시됨
- 파일 내용이 즉시 검색 가능해짐
- AI 채팅에서 파일 내용 기반 질문 가능

### 3. 하이브리드 검색 시스템

**철학**: "키워드 검색의 정확성 + 의미 검색의 지능"

#### 2단계 검색 아키텍처

**1단계: 키워드 검색** (PostgreSQL Full-Text Search)
- 제목, 내용, 태그에서 정확한 키워드 매칭
- 빠른 성능 (인덱스 기반)

**2단계: 벡터 의미 검색** (pgvector)
- 검색 쿼리를 벡터로 변환
- 코사인 유사도로 의미적으로 유사한 노드 탐색
- 검색어와 다른 단어여도 의미가 같으면 찾아냄

**실제 예시**:
- 검색: "신경망 학습 방법"
- 키워드 매칭: "신경망", "학습"이 포함된 노드
- 의미 검색: "역전파 알고리즘", "경사 하강법", "최적화 기법" 등도 발견

### 4. 실시간 인터랙티브 그래프

**철학**: "지식의 구조를 시각적으로 탐험하라"

#### D3.js 기반 물리 시뮬레이션 그래프

- **Force-directed layout**: 노드들이 자연스럽게 배치됨
- **드래그 앤 드롭**: 노드를 끌어서 배치 조정
- **줌 & 팬**: 확대/축소 및 화면 이동
- **클릭 네비게이션**: 노드 클릭으로 상세 페이지 이동
- **관계 타입별 색상**: 관계 타입마다 다른 색상으로 표시
- **가중치 반영**: 관계 강도에 따라 선 두께 조정

**사용 시나리오**:
1. 그래프에서 노드 클러스터 발견
2. 관심 있는 노드로 드래그하여 이동
3. 노드 클릭으로 상세 내용 확인
4. 연결된 노드들을 따라가며 지식 확장

### 5. 학습 도구 통합

**철학**: "지식은 단순히 저장하는 것이 아니라, 내재화하는 것"

#### AI 기반 학습 지원 시스템

**1. 자동 퀴즈 생성**
- 노드 내용을 기반으로 AI가 객관식 문제 자동 생성
- 4지선다형 문제 + 정답 해설
- 난이도 조절 가능

**2. 플래시카드**
- 중요 개념을 카드 형태로 자동 생성
- 간격 반복 학습(Spaced Repetition) 알고리즘 지원 (예정)

**3. 컨셉 맵**
- 노드와 관계를 학습 중심으로 시각화
- 핵심 개념 간의 연결 강조

**4. 학습 활동 추적**
- 퀴즈 성적, 학습 시간, 복습 주기 기록
- 통계 대시보드로 학습 진도 확인

**5. AI 피드백**
- 퀴즈 결과 분석 및 개선 제안
- 약점 파악 및 보완 학습 경로 추천

---

## 🎨 핵심 기능 체계

### A. 지식 노드 관리

#### 노드 타입 시스템

Synapse는 다양한 형태의 지식을 구조화합니다:

```typescript
type NodeType = 'Note' | 'WebClip' | 'Document' | 'Image' | 'Concept'
```

| 타입 | 설명 | 사용 예시 |
|------|------|-----------|
| **Note** | 개인 메모 및 생각 | 일기, 아이디어 스케치, 브레인스토밍 |
| **WebClip** | 웹 콘텐츠 저장 | 블로그 글, 뉴스 기사, 온라인 자료 |
| **Document** | 문서 및 파일 | PDF 논문, 보고서, 강의 자료 |
| **Image** | 이미지 기반 지식 | 다이어그램, 인포그래픽, 스크린샷 |
| **Concept** | 추상적 개념 | 이론, 원리, 모델, 프레임워크 |

#### 콘텐츠 타입 시스템

```typescript
type ContentType = 'text' | 'image' | 'video' | 'audio' | 'document' | 'url' | 'code'
```

각 노드는 여러 콘텐츠 타입을 포함할 수 있습니다:
- 텍스트 노트 + 첨부 이미지
- 코드 스니펫 + 설명 문서
- URL 참조 + 요약 텍스트

#### 노드 생성 워크플로우

**1. 기본 정보 입력**
- 제목 (필수)
- 내용 (Rich Text Editor 지원)
- 노드 타입 선택
- 콘텐츠 타입 선택

**2. 스마트 태그 관리**
- 직접 태그 입력
- AI가 내용 분석하여 태그 추천
- 기존 태그 자동완성

**3. 파일 첨부 (선택)**
- 드래그 앤 드롭으로 파일 업로드
- PDF, 이미지, 문서 지원
- 자동으로 AI 요약 생성
- 파일 내용이 벡터화되어 검색 가능

**4. 관계 설정 (선택)**
- 기존 노드와의 관계 추가
- 관계 타입 선택 (REFERENCES, EXPANDS_ON 등)
- 관계 강도(가중치) 설정
- 관계 설명 코멘트 작성

**5. 자동 처리**
- 노드 내용 벡터화 (OpenAI embedding)
- AI가 자동으로 관련 노드 탐색
- 추천 관계 제시
- 태그 자동 생성

### B. 지식 탐색 및 검색

#### 1. 통합 검색 인터페이스

**검색 모드**:
- **텍스트 검색**: 키워드 기반 빠른 검색
- **의미 검색**: AI 기반 자연어 쿼리
- **태그 필터**: 특정 태그로 필터링
- **타입 필터**: 노드/콘텐츠 타입으로 필터링
- **날짜 범위**: 생성일/수정일 기준 검색

**검색 결과**:
- 관련도 점수 표시
- 하이라이트된 매칭 텍스트
- 미리보기 스니펫
- 관련 태그 표시
- 클릭으로 상세 페이지 이동

#### 2. 그래프 시각화 탐색

**전체 그래프 뷰**:
- 모든 노드와 관계를 한눈에 조망
- 클러스터링으로 주제별 그룹화
- 중요한 노드(허브) 강조 표시

**노드 중심 뷰**:
- 특정 노드와 직접 연결된 노드만 표시
- 깊이 조절 (1단계, 2단계 관계 등)
- 관계 타입별 필터링

**인터랙션**:
- 노드 호버: 제목 및 기본 정보 툴팁
- 노드 클릭: 상세 페이지로 이동
- 엣지 호버: 관계 타입 및 코멘트 표시
- 드래그: 그래프 레이아웃 조정

#### 3. 태그 기반 네비게이션

**태그 클라우드**:
- 사용 빈도에 따른 크기 조절
- 색상 코딩으로 카테고리 구분
- 클릭으로 태그별 노드 필터링

**계층적 태그**:
- 중첩 태그 지원 (예: `programming/python/django`)
- 상위 태그 클릭으로 하위 모든 노드 탐색

### C. AI 지원 기능

#### 1. 파일 자동 요약

**지원 파일 타입**:
- PDF 문서
- 텍스트 파일 (.txt, .md)
- Microsoft Word (.docx) - 향후 지원 예정

**요약 생성 프로세스**:
1. 파일 업로드 → Supabase Storage에 저장
2. Edge Function이 텍스트 추출
3. GPT-4o-mini가 200단어 요약 생성
4. 요약을 노드 메타데이터에 저장
5. 사용자에게 요약 표시

**요약 품질**:
- 핵심 포인트 중심 압축
- 구체적 정보 포함
- 읽기 쉬운 문장 구조
- 원문의 어조 유지

#### 2. AI 채팅 시스템

**개인 지식 기반 대화**:
- 저장된 노드 내용을 컨텍스트로 활용
- 파일 첨부 내용도 참조
- 관련 노드를 자동으로 찾아 답변에 활용

**사용 시나리오**:
- "머신러닝에 대해 내가 정리한 내용 알려줘"
- "이 프로젝트 관련 자료 요약해줘"
- "A와 B 개념의 차이점 설명해줘"

**답변 품질**:
- 벡터 검색으로 관련 노드 5개 추출
- 해당 노드들을 컨텍스트로 GPT-4에 전달
- 사용자 지식 저장소에 기반한 정확한 답변
- 참조한 노드 링크도 함께 제공

#### 3. 자동 관계 발견

**AI가 하는 일**:
- 새 노드 생성 시 기존 노드들과 유사도 계산
- 유사도 높은 노드들을 관련 노드로 추천
- 적절한 관계 타입 제안
- 관계 강도(가중치) 자동 계산

**사용자 경험**:
- "이 노드와 관련 있을 수 있는 노드: ..."
- "추천 관계: A **EXPANDS_ON** B (유사도: 0.85)"
- 클릭 한 번으로 관계 추가

#### 4. 스마트 태그 추천

**작동 방식**:
- 노드 제목과 내용을 AI가 분석
- 핵심 키워드 및 주제 추출
- 기존 태그 체계와 매칭
- 새로운 태그 제안 또는 기존 태그 추천

**예시**:
- 내용: "React hooks를 사용한 상태 관리 방법..."
- 추천 태그: `React`, `Hooks`, `상태관리`, `프론트엔드`

### D. 학습 도구

#### 1. AI 퀴즈 생성

**퀴즈 생성 과정**:
1. 노드 선택 (단일 또는 복수)
2. 문제 개수 선택 (5, 10, 15문제)
3. AI가 내용 분석 후 객관식 문제 생성
4. 각 문제마다 4개 선택지 + 정답 해설

**퀴즈 기능**:
- 실시간 점수 계산
- 오답 시 정답 및 해설 표시
- 퀴즈 결과 저장 및 이력 관리
- 통계 대시보드에서 성적 추이 확인

#### 2. 플래시카드

**카드 생성**:
- 노드에서 중요 개념을 AI가 추출
- 앞면: 질문 또는 용어
- 뒷면: 답변 또는 설명

**학습 모드**:
- 순차 학습
- 랜덤 셔플
- 약점 집중 (틀린 카드 반복)

#### 3. 컨셉 맵

**학습 중심 시각화**:
- 선택한 노드와 연결된 개념들을 맵으로 표시
- 관계 타입별로 색상 구분
- 중요도에 따라 노드 크기 조절

**차이점 (vs 일반 그래프)**:
- 일반 그래프: 모든 노드와 관계 표시
- 컨셉 맵: 학습 맥락에서 중요한 관계만 강조

#### 4. 학습 통계

**추적 지표**:
- 총 퀴즈 수행 횟수
- 평균 점수 및 정답률
- 주제별 강점/약점 분석
- 학습 시간 기록
- 복습 주기 추천

**대시보드**:
- 차트로 시각화된 학습 진도
- 최근 학습 활동 목록
- 복습이 필요한 노드 추천

---

## 🏛 시스템 아키텍처

### 전체 시스템 구조

```
┌─────────────────────────────────────────────────────────────┐
│                    사용자 인터페이스 (React 19)              │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐       │
│  │ 노드 관리 │ │   검색   │ │  그래프  │ │ AI 채팅  │       │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘       │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐       │
│  │   퀴즈   │ │플래시카드│ │컨셉 맵   │ │   통계   │       │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘       │
└─────────────────────────────────────────────────────────────┘
                            ↕
┌─────────────────────────────────────────────────────────────┐
│                  상태 관리 & 데이터 레이어                    │
│  ┌─────────────────────┐    ┌─────────────────────┐        │
│  │   Zustand Stores    │    │   React Query       │        │
│  │  - 사용자 상태       │    │  - 서버 상태 캐싱    │        │
│  │  - UI 상태          │    │  - 자동 리프레시     │        │
│  └─────────────────────┘    └─────────────────────┘        │
└─────────────────────────────────────────────────────────────┘
                            ↕
┌─────────────────────────────────────────────────────────────┐
│                   서비스 레이어 (TypeScript)                 │
│  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌─────────┐    │
│  │ Knowledge │ │ Embedding │ │  Search   │ │   AI    │    │
│  │  Service  │ │  Service  │ │  Service  │ │ Service │    │
│  └───────────┘ └───────────┘ └───────────┘ └─────────┘    │
│  ┌───────────┐ ┌───────────┐ ┌───────────┐                │
│  │   Study   │ │   Auth    │ │   File    │                │
│  │  Service  │ │  Service  │ │  Service  │                │
│  └───────────┘ └───────────┘ └───────────┘                │
└─────────────────────────────────────────────────────────────┘
                            ↕
┌─────────────────────────────────────────────────────────────┐
│                  Supabase 백엔드 플랫폼                       │
│  ┌──────────────────────────────────────────────────────┐  │
│  │            PostgreSQL + pgvector                     │  │
│  │  ┌──────────────┐  ┌──────────────┐  ┌───────────┐ │  │
│  │  │knowledge_nodes│  │node_embeddings│  │   files   │ │  │
│  │  └──────────────┘  └──────────────┘  └───────────┘ │  │
│  │  ┌──────────────┐  ┌──────────────┐  ┌───────────┐ │  │
│  │  │relationships │  │  quiz_results │  │   tags    │ │  │
│  │  └──────────────┘  └──────────────┘  └───────────┘ │  │
│  └──────────────────────────────────────────────────────┘  │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐    │
│  │     Auth     │  │   Storage    │  │   Realtime   │    │
│  │  (사용자 인증) │  │ (파일 저장)   │  │ (실시간 동기화)│    │
│  └──────────────┘  └──────────────┘  └──────────────┘    │
│  ┌────────────────────────────────────────────────────┐   │
│  │              Edge Functions (Deno)                 │   │
│  │  - extract-pdf-text: PDF 텍스트 추출               │   │
│  │  - 향후 추가 함수들...                              │   │
│  └────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
                            ↕
┌─────────────────────────────────────────────────────────────┐
│                   외부 AI 서비스 (OpenAI)                    │
│  ┌────────────────────────────────────────────────────┐   │
│  │  GPT-4o-mini API                                   │   │
│  │  - 텍스트 요약                                      │   │
│  │  - AI 채팅 응답                                     │   │
│  │  - 퀴즈 생성                                        │   │
│  │  - 태그 추천                                        │   │
│  └────────────────────────────────────────────────────┘   │
│  ┌────────────────────────────────────────────────────┐   │
│  │  text-embedding-3-small API                        │   │
│  │  - 노드 내용 벡터화 (1536차원)                      │   │
│  │  - 검색 쿼리 벡터화                                 │   │
│  │  - 유사도 계산용 임베딩                             │   │
│  └────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

### 데이터 흐름 예시: 파일 업로드 → AI 요약

```
1. [사용자] PDF 파일 드래그 앤 드롭
        ↓
2. [React Component] FileUploadZone에서 파일 수신
        ↓
3. [Service Layer] FileService.uploadFile() 호출
        ↓
4. [Supabase Storage] 파일 저장 → URL 반환
        ↓
5. [Edge Function] extract-pdf-text 호출
        ↓
6. [Edge Function] pdf-parse로 텍스트 추출
        ↓
7. [Service Layer] AIService.summarizeFile() 호출
        ↓
8. [OpenAI API] GPT-4o-mini로 200단어 요약 생성
        ↓
9. [Service Layer] EmbeddingService.generateEmbedding() 호출
        ↓
10. [OpenAI API] text-embedding-3-small로 벡터 생성
        ↓
11. [Supabase DB] node_embeddings 테이블에 벡터 저장
        ↓
12. [Supabase DB] knowledge_nodes 메타데이터에 요약 저장
        ↓
13. [React Query] 캐시 무효화 및 리프레시
        ↓
14. [React Component] UI에 요약 표시
```

### 보안 아키텍처

#### Row Level Security (RLS) 정책

```sql
-- knowledge_nodes 테이블
CREATE POLICY "사용자는 자신의 노드만 관리 가능"
ON knowledge_nodes FOR ALL
USING (auth.uid() = user_id);

-- node_embeddings 테이블
CREATE POLICY "임베딩은 노드 소유자만 접근"
ON node_embeddings FOR ALL
USING (
  EXISTS (
    SELECT 1 FROM knowledge_nodes
    WHERE knowledge_nodes.id = node_embeddings.node_id
    AND knowledge_nodes.user_id = auth.uid()
  )
);

-- relationships 테이블
CREATE POLICY "관계는 양쪽 노드 소유자만 관리"
ON knowledge_relationships FOR ALL
USING (
  EXISTS (
    SELECT 1 FROM knowledge_nodes kn1, knowledge_nodes kn2
    WHERE (kn1.id = source_node_id OR kn2.id = target_node_id)
    AND (kn1.user_id = auth.uid() OR kn2.user_id = auth.uid())
  )
);
```

#### 인증 흐름

```
1. 사용자 로그인/회원가입
        ↓
2. Supabase Auth가 JWT 토큰 발급
        ↓
3. 클라이언트가 모든 요청에 토큰 포함
        ↓
4. Supabase가 토큰 검증
        ↓
5. RLS 정책 적용하여 데이터 필터링
        ↓
6. 허가된 데이터만 반환
```

---

## 🎨 사용자 경험 설계

### 페이지 구조 및 네비게이션

#### 주요 페이지 맵

```
/ (홈페이지)
│
├── /auth
│   ├── /login (로그인)
│   └── /register (회원가입)
│
└── /app (인증 필요)
    ├── /dashboard (대시보드)
    │   ├── 최근 활동
    │   ├── 빠른 통계
    │   └── 추천 노드
    │
    ├── /knowledge (지식 관리)
    │   ├── / (노드 목록)
    │   ├── /create (새 노드 생성)
    │   ├── /:id (노드 상세)
    │   └── /:id/edit (노드 편집)
    │
    ├── /graph (그래프 시각화)
    │   ├── 전체 그래프 뷰
    │   └── 노드 중심 뷰
    │
    ├── /search (통합 검색)
    │   ├── 텍스트 검색
    │   ├── 의미 검색
    │   └── 필터링
    │
    ├── /ai-chat (AI 채팅)
    │   └── 대화형 인터페이스
    │
    ├── /study (학습 도구)
    │   ├── /quiz (퀴즈)
    │   ├── /flashcards (플래시카드)
    │   ├── /concept-map (컨셉 맵)
    │   ├── /activities (학습 활동)
    │   └── /history (퀴즈 이력)
    │
    ├── /tags (태그 관리)
    │   └── 태그 클라우드 및 편집
    │
    ├── /stats (통계)
    │   ├── 노드 통계
    │   ├── 학습 통계
    │   └── 활동 그래프
    │
    └── /settings (설정)
        ├── 프로필
        └── 환경 설정
```

### UI/UX 디자인 원칙

#### 1. 일관성 (Consistency)

**색상 시스템**:
- 주요 색상: 인디고(Indigo) - 지식, 신뢰
- 보조 색상: 퍼플(Purple) - AI, 혁신
- 성공: 에메랄드(Emerald) - 완료, 긍정
- 경고: 앰버(Amber) - 주의, 대기
- 오류: 레드(Red) - 실패, 거부

**타이포그래피**:
- 제목: 굵은 Sans-serif (Inter, Pretendard)
- 본문: 읽기 쉬운 Sans-serif
- 코드: 모노스페이스 (Fira Code, JetBrains Mono)

**컴포넌트**:
- 모든 버튼, 카드, 입력 필드가 통일된 스타일
- 일관된 간격 및 패딩 (Tailwind의 spacing scale)
- 통일된 애니메이션 (200-300ms transition)

#### 2. 피드백 (Feedback)

**즉각적인 시각적 피드백**:
- 버튼 클릭: 색상 변화 + 스케일 애니메이션
- 파일 업로드: 진행률 바 + 퍼센트 표시
- AI 작업: 로딩 스피너 + 상태 메시지
- 성공/실패: Toast 알림 메시지

**로딩 상태**:
- 스켈레톤 UI로 콘텐츠 로딩 표시
- 버튼에 로딩 인디케이터
- "처리 중..." 메시지

#### 3. 효율성 (Efficiency)

**키보드 단축키**:
- `Ctrl/Cmd + K`: 빠른 검색
- `Ctrl/Cmd + N`: 새 노드 생성
- `Ctrl/Cmd + /`: 명령 팔레트 (향후 구현)

**빠른 액션**:
- 노드 카드에서 바로 편집/삭제
- 인라인 태그 추가
- 드래그 앤 드롭 파일 업로드

#### 4. 오류 방지 (Error Prevention)

**확인 다이얼로그**:
- 노드 삭제 시 확인 모달
- 관계 제거 시 확인
- 되돌릴 수 없는 작업 경고

**입력 검증**:
- 실시간 폼 검증 (React Hook Form + Zod)
- 오류 메시지 인라인 표시
- 필수 필드 강조

#### 5. 접근성 (Accessibility)

**ARIA 속성**:
- 모든 버튼에 `aria-label`
- 모달에 `role="dialog"`
- 폼에 적절한 `label` 연결

**키보드 네비게이션**:
- 모든 인터랙티브 요소 포커스 가능
- 논리적인 탭 순서
- 포커스 인디케이터 표시

**스크린 리더 지원**:
- 의미론적 HTML 사용
- 대체 텍스트 제공
- 상태 변화 알림

### 반응형 디자인

#### 모바일 최적화

**브레이크포인트**:
- 모바일: < 640px
- 태블릿: 640px - 1024px
- 데스크톱: > 1024px

**모바일 우선 접근**:
- 터치 친화적 버튼 크기 (44x44px 이상)
- 스와이프 제스처 지원
- 모바일 메뉴 햄버거 아이콘
- 하단 네비게이션 바 (향후 구현)

**적응형 레이아웃**:
- 데스크톱: 사이드바 + 메인 콘텐츠
- 태블릿: 접을 수 있는 사이드바
- 모바일: 전체 화면 뷰 + 하단 네비게이션

---

## 🛠 기술 스택 및 선택 이유

### 프론트엔드

#### React 19.1.1
**선택 이유**:
- ✅ 최신 버전의 성능 개선 (Server Components, Transitions)
- ✅ 풍부한 생태계 및 커뮤니티
- ✅ TypeScript와 완벽한 통합

**핵심 활용**:
- Suspense로 비동기 컴포넌트 처리
- useTransition으로 부드러운 상태 전환
- useMemo/useCallback으로 성능 최적화

#### TypeScript 5.8.3
**선택 이유**:
- ✅ 완전한 타입 안전성
- ✅ 개발 시 자동완성 및 오류 방지
- ✅ 리팩토링의 안전성

**타입 시스템**:
- 엄격한 타입 정의 (strict mode)
- API 응답 타입 정의
- 제네릭 활용한 재사용 가능한 타입

#### Vite 7.1.2
**선택 이유**:
- ✅ 번개 같이 빠른 HMR (Hot Module Replacement)
- ✅ ES 모듈 기반 빌드
- ✅ 최적화된 프로덕션 빌드

**성능**:
- 개발 서버 시작: < 1초
- HMR: 즉각적
- 빌드 시간: 약 2분

#### TailwindCSS 3.4.17
**선택 이유**:
- ✅ 유틸리티 우선 접근법으로 빠른 개발
- ✅ 일관된 디자인 시스템
- ✅ 작은 번들 크기 (PurgeCSS)

**커스터마이징**:
- 커스텀 색상 팔레트
- 확장된 spacing scale
- 커스텀 애니메이션

#### D3.js 7.9.0
**선택 이유**:
- ✅ 강력한 데이터 시각화 라이브러리
- ✅ 완전한 커스터마이징 가능
- ✅ 물리 시뮬레이션 지원

**활용**:
- Force-directed graph layout
- 줌 & 팬 인터랙션
- SVG 기반 렌더링

### 백엔드 & 데이터베이스

#### Supabase
**선택 이유**:
- ✅ PostgreSQL 기반 (관계형 데이터의 강력함)
- ✅ 완전 관리형 (인프라 걱정 없음)
- ✅ RLS로 강력한 보안
- ✅ 실시간 구독 지원
- ✅ Edge Functions로 서버리스 로직

**제공 기능**:
- Auth: 이메일, OAuth 인증
- Storage: 파일 업로드 및 CDN
- Realtime: WebSocket 기반 실시간 동기화
- Edge Functions: Deno 런타임 서버리스 함수

#### PostgreSQL + pgvector
**선택 이유**:
- ✅ 관계형 데이터와 벡터 검색의 결합
- ✅ ACID 트랜잭션 보장
- ✅ 복잡한 쿼리 지원
- ✅ pgvector 확장으로 AI 임베딩 저장

**벡터 검색**:
- 1536차원 벡터 저장
- 코사인 유사도 검색
- IVFFlat 인덱스로 빠른 성능

### AI 서비스

#### OpenAI API
**선택 이유**:
- ✅ 업계 최고 수준의 AI 모델
- ✅ 안정적인 API
- ✅ 합리적인 가격

**모델 선택**:
- **GPT-4o-mini**: 빠르고 저렴하면서도 충분히 정확
  - 파일 요약: 200단어 압축
  - AI 채팅: 컨텍스트 기반 응답
  - 퀴즈 생성: 객관식 문제 제작
  - 태그 추천: 핵심 키워드 추출

- **text-embedding-3-small**: 효율적인 벡터화
  - 1536차원 (3072차원 대비 2배 빠름)
  - 충분히 정확한 의미 검색
  - 저렴한 비용

### 상태 관리

#### Zustand 5.0.8
**선택 이유**:
- ✅ Redux보다 간단한 API
- ✅ 보일러플레이트 최소화
- ✅ TypeScript 완벽 지원
- ✅ 미들웨어 지원 (persist, devtools)

**사용 예시**:
```typescript
// 사용자 상태 관리
const useAuthStore = create<AuthState>((set) => ({
  user: null,
  isAuthenticated: false,
  login: (user) => set({ user, isAuthenticated: true }),
  logout: () => set({ user: null, isAuthenticated: false }),
}));
```

#### React Query 5.87.4
**선택 이유**:
- ✅ 서버 상태 캐싱 및 동기화
- ✅ 자동 리프레시 및 재검증
- ✅ 낙관적 업데이트
- ✅ 무한 스크롤 지원

**핵심 기능**:
- staleTime: 5분 (캐시 신선도)
- cacheTime: 10분 (캐시 보관 시간)
- 자동 재시도 (3회)
- 백그라운드 리페칭

### 개발 도구

#### ESLint + TypeScript ESLint
**역할**:
- 코드 품질 검사
- 일관된 코드 스타일
- 잠재적 버그 방지

#### React Hook Form + Zod
**역할**:
- 폼 상태 관리
- 유효성 검증
- 타입 안전한 스키마

**사용 예시**:
```typescript
const schema = z.object({
  title: z.string().min(1, "제목을 입력하세요"),
  content: z.string().min(10, "내용을 10자 이상 입력하세요"),
  tags: z.array(z.string()).optional(),
});

const { register, handleSubmit, formState: { errors } } = useForm({
  resolver: zodResolver(schema),
});
```

---

## 🔒 보안 및 데이터 관리

### 인증 및 권한

#### 인증 시스템
- **Supabase Auth** 사용
- 이메일/비밀번호 로그인
- JWT 토큰 기반 세션 관리
- 자동 토큰 갱신

#### 권한 관리
- **Row Level Security (RLS)**: 모든 데이터 테이블에 적용
- 사용자는 자신의 데이터만 접근 가능
- 관리자 역할 (향후 구현)

### 데이터 보안

#### 민감 정보 보호
- **환경 변수**: API 키, 데이터베이스 URL 등
- **클라이언트 측 암호화**: 비밀번호는 해시 후 전송
- **HTTPS 강제**: 모든 통신 암호화

#### 파일 업로드 보안
- **파일 타입 검증**: 허용된 형식만 업로드
- **파일 크기 제한**: 10MB 이하
- **안전한 저장소**: Supabase Storage (S3 호환)
- **접근 제어**: RLS 정책 적용

### 데이터 백업 및 복구

#### 자동 백업
- **Supabase 자동 백업**: 매일 자동 백업
- **Point-in-Time Recovery**: 특정 시점으로 복원 가능

#### 데이터 내보내기
- JSON 형식으로 모든 노드 내보내기
- 첨부 파일 포함 내보내기
- 그래프 데이터 내보내기

### 성능 최적화

#### 데이터베이스 인덱스
```sql
-- 자주 사용되는 쿼리 최적화
CREATE INDEX idx_nodes_user_id ON knowledge_nodes(user_id);
CREATE INDEX idx_nodes_created_at ON knowledge_nodes(created_at DESC);
CREATE INDEX idx_nodes_tags ON knowledge_nodes USING GIN(tags);

-- 벡터 검색 최적화
CREATE INDEX ON node_embeddings USING ivfflat (embedding vector_cosine_ops)
WITH (lists = 100);
```

#### 프론트엔드 최적화
- **코드 스플리팅**: vendor, supabase, router 청크 분리
- **Lazy Loading**: 페이지 단위 동적 임포트
- **이미지 최적화**: 지연 로딩, WebP 포맷
- **번들 최적화**: Tree shaking, Minification

#### 캐싱 전략
- **React Query 캐싱**: 서버 데이터 5분간 캐시
- **브라우저 캐싱**: 정적 자산 장기 캐싱
- **CDN 캐싱**: Netlify CDN 활용

---

## 🚀 향후 발전 방향

### 단기 계획 (1-3개월)

#### 1. 협업 기능
- **노드 공유**: 특정 노드를 다른 사용자와 공유
- **공개 노드**: 인터넷에 공개 가능한 노드
- **댓글 시스템**: 공유된 노드에 댓글 달기

#### 2. 모바일 최적화
- **PWA (Progressive Web App)**: 오프라인 지원
- **모바일 앱**: React Native 기반 네이티브 앱
- **푸시 알림**: 중요한 이벤트 알림

#### 3. 고급 AI 기능
- **자동 태그 생성 개선**: 더 정확한 태그 추천
- **관련 노드 추천**: AI가 읽을 만한 노드 추천
- **요약 품질 향상**: 더 긴 요약, 다단계 요약

### 중기 계획 (3-6개월)

#### 1. 다국어 지원
- **i18n 국제화**: 영어, 한국어, 일본어, 중국어
- **번역 API 통합**: 자동 번역 기능

#### 2. 고급 그래프 분석
- **클러스터링**: 주제별 노드 자동 그룹화
- **커뮤니티 탐지**: 관련 노드 집단 발견
- **중심성 분석**: 중요한 허브 노드 식별

#### 3. API 플랫폼
- **RESTful API**: 외부 앱 연동
- **WebHook**: 이벤트 기반 통합
- **Zapier/Make 통합**: 자동화 워크플로우

### 장기 계획 (6-12개월)

#### 1. AI 에이전트
- **자율적 지식 관리**: AI가 자동으로 노드 정리
- **스마트 알림**: 복습 필요한 노드 알림
- **개인화된 학습 경로**: AI가 맞춤형 커리큘럼 제공

#### 2. 멀티모달 지원
- **이미지 처리**: OCR로 이미지에서 텍스트 추출
- **오디오 처리**: 음성을 텍스트로 변환
- **비디오 처리**: 영상 자막 추출 및 요약

#### 3. 엔터프라이즈 기능
- **팀 관리**: 조직 단위 지식 공유
- **고급 권한 시스템**: 역할 기반 접근 제어
- **감사 로그**: 모든 변경 이력 추적
- **SSO (Single Sign-On)**: 기업 인증 통합

#### 4. 고급 학습 기능
- **간격 반복 학습 (SRS)**: 과학적 복습 스케줄
- **게임화 (Gamification)**: 포인트, 배지, 리더보드
- **학습 분석**: AI 기반 학습 스타일 분석
- **맞춤형 퀴즈**: 약점 집중 문제 생성

---

## 📊 프로젝트 통계

### 개발 규모
- **총 소스 파일**: 73개 (TypeScript/TSX)
- **주요 페이지**: 24개
- **서비스 레이어**: 10개
- **React 컴포넌트**: 50+ 개

### 데이터베이스
- **테이블**: 15+ 개
- **RLS 정책**: 모든 테이블 적용
- **인덱스**: 성능 최적화 완료
- **트리거**: 자동화 로직 구현

### 기술 스택
- **프론트엔드 라이브러리**: 30+ 개
- **UI 컴포넌트**: TailwindCSS 기반
- **상태 관리**: Zustand + React Query
- **AI 통합**: OpenAI API

### 성능
- **빌드 시간**: ~2분
- **번들 크기**: 1.6MB (gzip: 350KB)
- **Lighthouse 점수**: 90+ (모든 지표)
- **로딩 시간**: < 2초

---

## 🎓 결론

**Synapse AI**는 단순한 노트 앱이 아닙니다.

이것은 **Obsidian의 구조화된 지식 그래프**와 **NotebookLM의 강력한 AI 기능**을 결합한, 차세대 지능형 지식 관리 생태계입니다.

### 핵심 혁신

1. **의미 있는 관계**: 5가지 관계 타입으로 지식의 맥락 표현
2. **AI 자동화**: 파일 요약부터 퀴즈 생성까지 완전 자동화
3. **하이브리드 검색**: 키워드 + 의미 검색의 시너지
4. **인터랙티브 그래프**: D3.js 기반 실시간 시각화
5. **학습 통합**: 지식 저장부터 내재화까지

### 실용적 가치

- ✅ **학생**: 강의 노트, 논문 관리, 시험 준비
- ✅ **연구자**: 문헌 리뷰, 아이디어 정리, 논문 집필
- ✅ **개발자**: 기술 문서, 코드 스니펫, 프로젝트 지식
- ✅ **작가**: 아이디어 수집, 자료 조사, 글쓰기
- ✅ **일반 사용자**: 개인 위키, 독서 노트, 취미 자료

### 미래 비전

Synapse AI는 계속 진화합니다:
- 더 스마트한 AI 에이전트
- 더 강력한 협업 기능
- 더 깊은 학습 통합
- 더 넓은 생태계 연결

**지식은 연결될 때 더 강력해집니다.** Synapse AI와 함께 여러분의 지식을 연결하고, 확장하고, 내재화하세요.

---

**프로젝트 정보**:
- **라이브 데모**: [https://synapse-doc.netlify.app](https://synapse-doc.netlify.app)
- **기술 스택**: React 19, TypeScript, Supabase, OpenAI
- **라이선스**: MIT
- **상태**: 🟢 프로덕션 배포 완료

**마지막 업데이트**: 2025-01-20
