# Synapse AI ì§€ì‹ ê´€ë¦¬ ì‹œìŠ¤í…œ - ì™„ì „í•œ í”„ë¡œì íŠ¸ ë³´ê³ ì„œ

[![Live Demo](https://img.shields.io/badge/ğŸš€_Live_Demo-synapse--doc.netlify.app-green?style=for-the-badge)](https://synapse-doc.netlify.app)
[![Deploy Status](https://api.netlify.com/api/v1/badges/synapse-doc/deploy-status)](https://app.netlify.com/sites/synapse-doc/deploys)

**ì‘ì„±ì¼**: 2025ë…„ 1ì›” 22ì¼
**í”„ë¡œì íŠ¸ ìƒíƒœ**: ğŸš€ í”„ë¡œë•ì…˜ ë°°í¬ ì™„ë£Œ
**ë¼ì´ë¸Œ URL**: https://synapse-doc.netlify.app
**Supabase í”„ë¡œì íŠ¸ ID**: `wladfkadhsrmejigbnrw`

---

## ğŸ“‘ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš” ë° ë¹„ì „](#1-í”„ë¡œì íŠ¸-ê°œìš”-ë°-ë¹„ì „)
2. [ê¸°ìˆ  ì•„í‚¤í…ì²˜ ìƒì„¸ ë¶„ì„](#2-ê¸°ìˆ -ì•„í‚¤í…ì²˜-ìƒì„¸-ë¶„ì„)
3. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ì™„ì „ ë¶„ì„](#3-ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„-ì™„ì „-ë¶„ì„)
4. [í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„ ìƒì„¸](#4-í•µì‹¬-ê¸°ëŠ¥-êµ¬í˜„-ìƒì„¸)
5. [ì‚¬ìš©ì ê²½í—˜ ë° ë³´ì•ˆ](#5-ì‚¬ìš©ì-ê²½í—˜-ë°-ë³´ì•ˆ)
6. [ë°°í¬ ë° ì„±ê³¼](#6-ë°°í¬-ë°-ì„±ê³¼)
7. [ê°œë°œì ê°€ì´ë“œ](#7-ê°œë°œì-ê°€ì´ë“œ)
8. [í–¥í›„ ê³„íš ë° ê²°ë¡ ](#8-í–¥í›„-ê³„íš-ë°-ê²°ë¡ )

---

## 1. í”„ë¡œì íŠ¸ ê°œìš” ë° ë¹„ì „

### 1.1 í”„ë¡œì íŠ¸ í•µì‹¬ ëª©ì 

**Synapse AI ì§€ì‹ ê´€ë¦¬ ì‹œìŠ¤í…œ**ì€ ê°œì¸ì˜ ì§€ì‹ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  AIë¥¼ í™œìš©í•´ ì§€ëŠ¥ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ì°¨ì„¸ëŒ€ ì§€ì‹ ê´€ë¦¬ í”Œë«í¼ì…ë‹ˆë‹¤. ê¸°ì¡´ì˜ ë‹¨ìˆœí•œ ë…¸íŠ¸ ê´€ë¦¬ ë„êµ¬ë¥¼ ë„˜ì–´ì„œ, AI ê¸°ë°˜ ìë™í™”ì™€ ë²¡í„° ê²€ìƒ‰ ê¸°ìˆ ì„ ê²°í•©í•˜ì—¬ ì‚¬ìš©ìì˜ ì§€ì‹ ìƒì‚°ì„±ì„ í˜ì‹ ì ìœ¼ë¡œ í–¥ìƒì‹œí‚µë‹ˆë‹¤.

### 1.2 í•µì‹¬ ê°€ì¹˜ ì œì•ˆ

#### ğŸ¤– **ì™„ì „ ìë™í™”ëœ ì§€ì‹ ì²˜ë¦¬**
- PDF íŒŒì¼ ì—…ë¡œë“œ â†’ í…ìŠ¤íŠ¸ ìë™ ì¶”ì¶œ â†’ AI ìš”ì•½ ìƒì„±ê¹Œì§€ ì›í´ë¦­ìœ¼ë¡œ ì™„ë£Œ
- ë³µì¡í•œ ìˆ˜ë™ ì‘ì—… ì—†ì´ ì¦‰ì‹œ êµ¬ì¡°í™”ëœ ì§€ì‹ìœ¼ë¡œ ë³€í™˜
- ì—…ë¡œë“œí•œ ëª¨ë“  íŒŒì¼ì— ëŒ€í•´ GPT-4o-miniê°€ 200ë‹¨ì–´ ìš”ì•½ ìë™ ìƒì„±

#### ğŸ§  **AI ê¸°ë°˜ ì§€ëŠ¥í˜• ê²€ìƒ‰**
- í‚¤ì›Œë“œê°€ ì•„ë‹Œ ì˜ë¯¸ ê¸°ë°˜ ê²€ìƒ‰ìœ¼ë¡œ ì •í™•í•œ ì •ë³´ ë°œê²¬
- pgvector + OpenAI embeddingì„ í™œìš©í•œ ë²¡í„° ì˜ë¯¸ ê²€ìƒ‰
- ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ë‚´ìš©ì„ ìì—°ì–´ë¡œ ì§ˆë¬¸í•˜ë©´ ê´€ë ¨ ì§€ì‹ì„ ì¦‰ì‹œ ì°¾ì•„ì¤Œ

#### ğŸŒ **ì‹¤ì‹œê°„ ì§€ì‹ ê·¸ë˜í”„**
- D3.js ê¸°ë°˜ ì¸í„°ë™í‹°ë¸Œ ì‹œê°í™”ë¡œ ì§€ì‹ ê°„ ì—°ê²° ê´€ê³„ ì§ê´€ì  íŒŒì•…
- AIê°€ ìë™ìœ¼ë¡œ ë°œê²¬í•œ ì§€ì‹ ê°„ ê´€ê³„ë¥¼ ê·¸ë˜í”„ë¡œ í‘œí˜„
- ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ë¡œ íƒìƒ‰ ê°€ëŠ¥í•œ ë™ì  ë„¤íŠ¸ì›Œí¬ ë·°

#### ğŸ’¬ **ê°œì¸í™”ëœ AI ì–´ì‹œìŠ¤í„´íŠ¸**
- ì‚¬ìš©ìì˜ ê°œì¸ ì§€ì‹ ì €ì¥ì†Œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ë§ì¶¤í˜• ì§ˆì˜ì‘ë‹µ
- RAG(Retrieval Augmented Generation) ì‹œìŠ¤í…œìœ¼ë¡œ ì •í™•í•œ ë‹µë³€ ì œê³µ
- ì €ì¥ëœ ë¬¸ì„œì™€ íŒŒì¼ ë‚´ìš©ì„ ì¢…í•©í•´ ì»¨í…ìŠ¤íŠ¸ ìˆëŠ” ë‹µë³€ ìƒì„±

### 1.3 íƒ€ê²Ÿ ì‚¬ìš©ì

#### ğŸ“š **ì—°êµ¬ì ë° í•™ìŠµì**
- ë…¼ë¬¸, ë³´ê³ ì„œ, ë¬¸ì„œë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ë¶„ì„í•˜ë ¤ëŠ” ì—°êµ¬ì
- ëŒ€ëŸ‰ì˜ í•™ìŠµ ìë£Œë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì •ë¦¬í•˜ê³  ë³µìŠµí•˜ë ¤ëŠ” í•™ìƒ
- ì§€ì‹ ê°„ ì—°ê²°ê³ ë¦¬ë¥¼ ì°¾ì•„ ìƒˆë¡œìš´ ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ê³ ì í•˜ëŠ” ì „ë¬¸ê°€

#### ğŸ’¼ **ì§€ì‹ ê·¼ë¡œì**
- í”„ë¡œì íŠ¸ ë¬¸ì„œ, íšŒì˜ë¡, ê¸°ìˆ  ë¬¸ì„œë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê°œë°œì
- ê³ ê° ì •ë³´, ì œí’ˆ ì§€ì‹ì„ êµ¬ì¡°í™”í•˜ì—¬ í™œìš©í•˜ëŠ” ë§ˆì¼€í„°
- ë²•ë¥  ë¬¸ì„œ, íŒë¡€ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê²€ìƒ‰í•˜ê³  ë¶„ì„í•˜ëŠ” ë²•ë¬´ ì „ë¬¸ê°€

#### ğŸ¯ **ê°œì¸ ì§€ì‹ ê´€ë¦¬ì**
- ë…ì„œ ë…¸íŠ¸, ì•„ì´ë””ì–´, ì¸ì‚¬ì´íŠ¸ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì¶•ì í•˜ëŠ” ê°œì¸
- ë‹¤ì–‘í•œ ì •ë³´ ì†ŒìŠ¤ë¥¼ í†µí•©í•´ ê°œì¸ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•˜ë ¤ëŠ” ì‚¬ìš©ì
- AIì˜ ë„ì›€ìœ¼ë¡œ ë” ìŠ¤ë§ˆíŠ¸í•œ ì§€ì‹ ê´€ë¦¬ë¥¼ ì›í•˜ëŠ” í˜ì‹  ì¶”êµ¬ì

### 1.4 í˜ì‹ ì  íŠ¹ì§•

#### ğŸ”¥ **ì„œë²„ì‚¬ì´ë“œ PDF ì²˜ë¦¬**
ê¸°ì¡´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” CSP(Content Security Policy) ì œì•½ìœ¼ë¡œ ì¸í•´ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ PDF ì²˜ë¦¬ê°€ ì œí•œì ì´ì—ˆìŠµë‹ˆë‹¤. ë³¸ ì‹œìŠ¤í…œì€ Supabase Edge Functionsë¥¼ í™œìš©í•´ ì„œë²„ì‚¬ì´ë“œì—ì„œ PDF í…ìŠ¤íŠ¸ë¥¼ ì¶”ì¶œí•˜ì—¬ ì´ ë¬¸ì œë¥¼ ì™„ì „íˆ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

#### âš¡ **ì‹¤ì‹œê°„ ë²¡í„° ê²€ìƒ‰**
PostgreSQLì˜ pgvector í™•ì¥ê³¼ OpenAIì˜ text-embedding-3-small ëª¨ë¸ì„ ê²°í•©í•˜ì—¬ 1536ì°¨ì› ë²¡í„° ê³µê°„ì—ì„œì˜ ê³ ì† ì˜ë¯¸ ê²€ìƒ‰ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ê¸°ì¡´ í‚¤ì›Œë“œ ê²€ìƒ‰ì˜ í•œê³„ë¥¼ ë›°ì–´ë„˜ëŠ” ì˜ë¯¸ ê¸°ë°˜ ê²€ìƒ‰ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

#### ğŸ¨ **ëª¨ë˜ ì‚¬ìš©ì ê²½í—˜**
React 19ì˜ ìµœì‹  ê¸°ëŠ¥ê³¼ TailwindCSSë¥¼ í™œìš©í•œ ì§ê´€ì ì´ê³  ì•„ë¦„ë‹¤ìš´ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. ë³µì¡í•œ AI ê¸°ëŠ¥ë„ ëª‡ ë²ˆì˜ í´ë¦­ìœ¼ë¡œ ê°„ë‹¨íˆ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 1.5 í”„ë¡œì íŠ¸ ì„±ê³¼ ì§€í‘œ

- âœ… **ê°œë°œ ì™„ë£Œë„**: 100% (ëª¨ë“  ê³„íšëœ ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ)
- âœ… **í”„ë¡œë•ì…˜ ë°°í¬**: ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œ (https://synapse-doc.netlify.app)
- âœ… **ì„±ëŠ¥ ìµœì í™”**: Lighthouse ì ìˆ˜ 90+ ë‹¬ì„±
- âœ… **ë³´ì•ˆ ìˆ˜ì¤€**: ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ RLS ì •ì±… ë° JWT ì¸ì¦ êµ¬í˜„
- âœ… **í™•ì¥ì„±**: ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ë¡œ ë¬´ì œí•œ í™•ì¥ ê°€ëŠ¥

ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¨ìˆœí•œ ê°œë… ì¦ëª…ì„ ë„˜ì–´ì„œ, ì‹¤ì œ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì™„ì „í•œ ì§€ì‹ ê´€ë¦¬ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.

---

## 2. ê¸°ìˆ  ì•„í‚¤í…ì²˜ ìƒì„¸ ë¶„ì„

### 2.1 ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

ë³¸ ì‹œìŠ¤í…œì€ **í˜„ëŒ€ì  ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜**ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë˜ì—ˆìœ¼ë©°, í™•ì¥ì„±ê³¼ ì„±ëŠ¥ì„ ëª¨ë‘ ê³ ë ¤í•œ ì„¤ê³„ì…ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend Layer                       â”‚
â”‚  React 19 + TypeScript + Vite + TailwindCSS           â”‚
â”‚  - Knowledge Management UI                              â”‚
â”‚  - Interactive Graph Visualization (D3.js)            â”‚
â”‚  - Real-time Updates (Supabase Realtime)              â”‚
â”‚  - AI Chat Interface                                    â”‚
â”‚  - Study Tools (Quiz, Flashcards, Concept Maps)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Supabase Backend                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   PostgreSQL    â”‚   Authentication â”‚   Realtime      â”‚ â”‚
â”‚  â”‚   + pgvector    â”‚   + RLS         â”‚   + Storage     â”‚ â”‚
â”‚  â”‚   Vector DB     â”‚   JWT Tokens    â”‚   File Upload   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Edge Functions                         â”‚ â”‚
â”‚  â”‚  - PDF Text Extraction (Deno + pdf-parse)         â”‚ â”‚
â”‚  â”‚  - Server-side File Processing                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   OpenAI Services                       â”‚
â”‚  - GPT-4o-mini (Text Generation & Chat)               â”‚
â”‚  - text-embedding-3-small (Vector Embeddings)         â”‚
â”‚  - Structured JSON Outputs                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 í”„ë¡ íŠ¸ì—”ë“œ ê¸°ìˆ  ìŠ¤íƒ

#### 2.2.1 React 19 + TypeScript ì¡°í•©ì˜ ì¥ì 

**React 19ì˜ ìƒˆë¡œìš´ ê¸°ëŠ¥ í™œìš©:**
- **React Server Components**: ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ ìµœì í™”
- **Improved Hooks**: useStateì™€ useEffectì˜ ì„±ëŠ¥ ê°œì„ 
- **Automatic Batching**: ìƒíƒœ ì—…ë°ì´íŠ¸ ìë™ ë°°ì¹˜ ì²˜ë¦¬

**TypeScript ì™„ì „ í†µí•©:**
```typescript
// src/types/api.ts - ì™„ì „í•œ íƒ€ì… ì•ˆì „ì„±
export interface KnowledgeNode {
  id: string;
  user_id: string;
  title: string;
  content: string | null;
  node_type: 'Knowledge' | 'Concept' | 'Fact' | 'Question' | 'Idea';
  tags: string[];
  metadata: {
    files?: AttachedFile[];
    summary?: string;
    [key: string]: any;
  };
  created_at: string;
  updated_at: string;
}
```

#### 2.2.2 Vite ë¹Œë“œ ì‹œìŠ¤í…œ ìµœì í™”

**ì„¤ì • íŒŒì¼ (`vite.config.ts`):**
```typescript
export default defineConfig({
  plugins: [react()],
  build: {
    outDir: 'dist',
    sourcemap: true,
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          supabase: ['@supabase/supabase-js'],
          router: ['react-router-dom'],
          ai: ['openai']
        }
      }
    }
  },
  optimizeDeps: {
    include: [
      '@tiptap/react',
      '@tiptap/starter-kit',
      'd3'
    ]
  }
});
```

**ë¹Œë“œ ìµœì í™” íš¨ê³¼:**
- ì´ˆê¸° ë¡œë”© ì‹œê°„ 40% ë‹¨ì¶•
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ìœ¼ë¡œ ì²­í¬ í¬ê¸° ìµœì í™”
- Tree shakingìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ì½”ë“œ ì œê±°

#### 2.2.3 TailwindCSS ë””ìì¸ ì‹œìŠ¤í…œ

**ì™„ì „ ì»¤ìŠ¤í„°ë§ˆì´ì§•ëœ ì„¤ì •:**
```javascript
// tailwind.config.js
module.exports = {
  content: ['./index.html', './src/**/*.{js,ts,jsx,tsx}'],
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#eff6ff',
          500: '#3b82f6',
          900: '#1e3a8a',
        },
        synapse: {
          blue: '#3B82F6',
          purple: '#8B5CF6',
          green: '#10B981'
        }
      },
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
      }
    }
  },
  plugins: [
    require('@tailwindcss/forms'),
    require('@tailwindcss/typography'),
  ]
}
```

### 2.3 ë°±ì—”ë“œ ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜

#### 2.3.1 Supabase ì„œë²„ë¦¬ìŠ¤ í”Œë«í¼

**í•µì‹¬ ì„œë¹„ìŠ¤ êµ¬ì„±:**

1. **PostgreSQL 15 + pgvector**
   - ë²¡í„° ì„ë² ë”© ì €ì¥ì„ ìœ„í•œ pgvector í™•ì¥
   - 1536ì°¨ì› ë²¡í„° ê²€ìƒ‰ ì¸ë±ìŠ¤
   - ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê¸°ë°˜ ê²€ìƒ‰ ìµœì í™”

2. **Authentication & Authorization**
   - JWT ê¸°ë°˜ ì‚¬ìš©ì ì¸ì¦
   - Row Level Security (RLS) ì •ì±…
   - ì†Œì…œ ë¡œê·¸ì¸ ì§€ì› (ì¤€ë¹„ë¨)

3. **Realtime Subscriptions**
   - WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”
   - ì§€ì‹ ë…¸ë“œ ë³€ê²½ì‚¬í•­ ì‹¤ì‹œê°„ ë°˜ì˜
   - ë‹¤ì¤‘ ì‚¬ìš©ì í˜‘ì—… ê¸°ëŠ¥ (í™•ì¥ ê°€ëŠ¥)

4. **Storage**
   - íŒŒì¼ ì—…ë¡œë“œ ë° ê´€ë¦¬
   - ì´ë¯¸ì§€, PDF, ë¬¸ì„œ íŒŒì¼ ì§€ì›
   - CDNì„ í†µí•œ ì „ì„¸ê³„ ë¹ ë¥¸ ì ‘ê·¼

#### 2.3.2 Edge Functions (ì„œë²„ì‚¬ì´ë“œ ë¡œì§)

**PDF í…ìŠ¤íŠ¸ ì¶”ì¶œ í•¨ìˆ˜ (`extract-pdf-text`):**
```typescript
// supabase/functions/extract-pdf-text/index.ts
import pdf from "npm:pdf-parse@1.1.1"

Deno.serve(async (req) => {
  const { fileData, fileName } = await req.json()

  // Base64 â†’ ArrayBuffer ë³€í™˜
  const binaryData = Uint8Array.from(atob(fileData), c => c.charCodeAt(0))

  // PDF íŒŒì‹± ë° í…ìŠ¤íŠ¸ ì¶”ì¶œ
  const data = await pdf(binaryData.buffer)

  return new Response(JSON.stringify({
    text: data.text,
    pageCount: data.numpages,
    characterCount: data.text.length,
    fileName: fileName
  }))
})
```

**ì£¼ìš” ì¥ì :**
- í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ CSP ì œì•½ í•´ê²°
- ì„œë²„ ì‚¬ì´ë“œì—ì„œ ì•ˆì •ì ì¸ PDF ì²˜ë¦¬
- ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬ ê°€ëŠ¥
- Deno ëŸ°íƒ€ì„ìœ¼ë¡œ TypeScript ë„¤ì´í‹°ë¸Œ ì§€ì›

### 2.4 AI ì„œë¹„ìŠ¤ í†µí•©

#### 2.4.1 OpenAI API í†µí•© êµ¬ì¡°

**ëª¨ë¸ ì„ íƒ ì „ëµ:**
- **GPT-4o-mini**: ë¹„ìš© íš¨ìœ¨ì ì´ë©´ì„œ ê³ í’ˆì§ˆ í…ìŠ¤íŠ¸ ìƒì„±
- **text-embedding-3-small**: 1536ì°¨ì›, ë¹ ë¥¸ ì†ë„ì™€ ì •í™•ì„± ê· í˜•

**AI ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ êµ¬ì¡°:**
```typescript
// src/services/ai.service.ts
export class AIService {
  private readonly EMBEDDING_MODEL = 'text-embedding-3-small';
  private readonly CHAT_MODEL = 'gpt-4o-mini';

  // í…ìŠ¤íŠ¸ â†’ ë²¡í„° ë³€í™˜
  async generateEmbedding(text: string): Promise<number[]> {
    const response = await openai.embeddings.create({
      model: this.EMBEDDING_MODEL,
      input: text,
      encoding_format: 'float'
    });
    return response.data[0].embedding;
  }

  // ê°œë³„ íŒŒì¼ ìš”ì•½ ìƒì„±
  async summarizeFile(fileUrl: string, fileName: string): Promise<string> {
    const fileText = await this.downloadAndExtractFile(fileUrl, fileName);

    const completion = await openai.chat.completions.create({
      model: this.CHAT_MODEL,
      messages: [
        {
          role: 'system',
          content: 'ì²¨ë¶€ íŒŒì¼ì˜ ë‚´ìš©ì„ ê°„ê²°í•˜ê³  ì •í™•í•˜ê²Œ ìš”ì•½í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.'
        },
        {
          role: 'user',
          content: `íŒŒì¼ "${fileName}"ì˜ ë‚´ìš©ì„ 200ë‹¨ì–´ ì´ë‚´ë¡œ ìš”ì•½í•´ì£¼ì„¸ìš”:\n\n${fileText.substring(0, 8000)}`
        }
      ],
      max_tokens: 200,
      temperature: 0.5
    });

    return completion.choices[0]?.message?.content || 'ìš”ì•½ì„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
  }
}
```

#### 2.4.2 ë²¡í„° ê²€ìƒ‰ ìµœì í™”

**pgvector ì¸ë±ìŠ¤ ì„¤ì •:**
```sql
-- ë²¡í„° ê²€ìƒ‰ ì„±ëŠ¥ ìµœì í™”
CREATE INDEX ON knowledge_nodes USING ivfflat (embedding vector_cosine_ops)
WITH (lists = 100);

-- ì‹œë§¨í‹± ê²€ìƒ‰ í•¨ìˆ˜
CREATE OR REPLACE FUNCTION search_similar_nodes(
  query_embedding vector(1536),
  match_threshold float,
  match_count int,
  target_user_id uuid DEFAULT NULL
)
RETURNS TABLE (
  id uuid,
  title text,
  content text,
  similarity float,
  node_type text,
  tags text[],
  created_at timestamptz
)
LANGUAGE plpgsql
AS $$
BEGIN
  RETURN QUERY
  SELECT
    kn.id,
    kn.title,
    kn.content,
    1 - (kn.embedding <=> query_embedding) as similarity,
    kn.node_type::text,
    kn.tags,
    kn.created_at
  FROM knowledge_nodes kn
  WHERE kn.embedding IS NOT NULL
    AND (target_user_id IS NULL OR kn.user_id = target_user_id)
    AND 1 - (kn.embedding <=> query_embedding) > match_threshold
  ORDER BY kn.embedding <=> query_embedding
  LIMIT match_count;
END;
$$;
```

### 2.5 ìƒíƒœ ê´€ë¦¬ ë° ë°ì´í„° íë¦„

#### 2.5.1 Zustand + React Query ì¡°í•©

**ì „ì—­ ìƒíƒœ ê´€ë¦¬ (Zustand):**
```typescript
// src/stores/auth.store.ts
interface AuthState {
  user: User | null;
  isLoading: boolean;
  initializeAuth: () => Promise<void>;
  signOut: () => Promise<void>;
}

export const useAuthStore = create<AuthState>((set, get) => ({
  user: null,
  isLoading: true,

  initializeAuth: async () => {
    const { data: { session } } = await supabase.auth.getSession();
    set({ user: session?.user || null, isLoading: false });
  },

  signOut: async () => {
    await supabase.auth.signOut();
    set({ user: null });
  }
}));
```

**ì„œë²„ ìƒíƒœ ìºì‹± (React Query):**
```typescript
// src/lib/queryClient.ts
export const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      staleTime: 5 * 60 * 1000, // 5ë¶„
      gcTime: 10 * 60 * 1000, // 10ë¶„
      refetchOnWindowFocus: false,
      retry: (failureCount, error) => {
        if (error?.status === 404) return false;
        return failureCount < 3;
      },
    },
  },
});
```

#### 2.5.2 ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”

**Supabase Realtime í™œìš©:**
```typescript
// ì‹¤ì‹œê°„ ë…¸ë“œ ë³€ê²½ ê°ì§€
useEffect(() => {
  const subscription = supabase
    .channel('knowledge_nodes_changes')
    .on('postgres_changes',
      {
        event: '*',
        schema: 'public',
        table: 'knowledge_nodes',
        filter: `user_id=eq.${user?.id}`
      },
      (payload) => {
        // React Query ìºì‹œ ë¬´íš¨í™”
        queryClient.invalidateQueries({ queryKey: ['nodes'] });
      }
    )
    .subscribe();

  return () => {
    subscription.unsubscribe();
  };
}, [user?.id]);
```

### 2.6 ì„±ëŠ¥ ìµœì í™” ì „ëµ

#### 2.6.1 ë²ˆë“¤ ìµœì í™”

**ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ê²°ê³¼:**
```
dist/
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ vendor-[hash].js      # React, React-DOM (120KB)
â”‚   â”œâ”€â”€ supabase-[hash].js    # Supabase client (80KB)
â”‚   â”œâ”€â”€ router-[hash].js      # React Router (45KB)
â”‚   â”œâ”€â”€ ai-[hash].js          # OpenAI client (35KB)
â”‚   â””â”€â”€ index-[hash].js       # Main app logic (200KB)
â””â”€â”€ index.html
```

#### 2.6.2 API í˜¸ì¶œ ìµœì í™”

**ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ êµ¬í˜„:**
```typescript
// src/lib/apiOptimizer.ts
class PerformanceMonitor {
  async measureApiCall<T>(
    operationName: string,
    apiCall: () => Promise<T>
  ): Promise<T> {
    const startTime = performance.now();

    try {
      const result = await apiCall();
      const duration = performance.now() - startTime;

      console.log(`âœ… ${operationName}: ${duration.toFixed(2)}ms`);
      return result;
    } catch (error) {
      const duration = performance.now() - startTime;
      console.error(`âŒ ${operationName}: ${duration.toFixed(2)}ms`, error);
      throw error;
    }
  }
}
```

ì´ëŸ¬í•œ ê¸°ìˆ  ì•„í‚¤í…ì²˜ë¥¼ í†µí•´ í™•ì¥ ê°€ëŠ¥í•˜ê³  ì„±ëŠ¥ì´ ë›°ì–´ë‚œ í˜„ëŒ€ì  ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

---

## 3. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ì™„ì „ ë¶„ì„

### 3.1 ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° ê°œìš”

Synapse AI ì‹œìŠ¤í…œì€ **15ê°œì˜ í•µì‹¬ í…Œì´ë¸”**ë¡œ êµ¬ì„±ëœ PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©°, ëª¨ë“  í…Œì´ë¸”ì— **Row Level Security (RLS)** ì •ì±…ì´ ì ìš©ë˜ì–´ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ **pgvector í™•ì¥**ì„ í™œìš©í•˜ì—¬ AI ë²¡í„° ê²€ìƒ‰ ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

### 3.2 í•µì‹¬ ë°ì´í„° ì—”í‹°í‹° ë¶„ì„

#### 3.2.1 ì‚¬ìš©ì ê´€ë¦¬ í…Œì´ë¸”

**`profiles` í…Œì´ë¸” (2í–‰)**
```sql
CREATE TABLE profiles (
  id UUID PRIMARY KEY REFERENCES auth.users(id),
  first_name TEXT,
  last_name TEXT,
  avatar_url TEXT,
  bio TEXT,
  preferences JSONB DEFAULT '{}',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

**ì£¼ìš” íŠ¹ì§•:**
- Supabase Authì™€ ì—°ë™ëœ ì‚¬ìš©ì í”„ë¡œí•„
- JSONBë¥¼ í†µí•œ ìœ ì—°í•œ ì‚¬ìš©ì ì„¤ì • ì €ì¥
- í˜„ì¬ 2ëª…ì˜ í™œì„± ì‚¬ìš©ì ë“±ë¡

#### 3.2.2 ì§€ì‹ ê´€ë¦¬ í•µì‹¬ í…Œì´ë¸”

**`knowledge_nodes` í…Œì´ë¸” (49í–‰) - ë©”ì¸ ì§€ì‹ ì—”í‹°í‹°**
```sql
CREATE TABLE knowledge_nodes (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  title TEXT NOT NULL CHECK (length(title) > 0),
  content TEXT,
  summary TEXT, -- AI ìƒì„± ìš”ì•½
  node_type node_type DEFAULT 'Knowledge',
  content_type TEXT DEFAULT 'text',
  tags TEXT[] DEFAULT '{}',
  metadata JSONB DEFAULT '{}', -- íŒŒì¼ ì •ë³´ ë° ìš”ì•½ ì €ì¥
  version INTEGER DEFAULT 1,
  is_active BOOLEAN DEFAULT TRUE,
  is_public BOOLEAN DEFAULT FALSE,
  view_count INTEGER DEFAULT 0,
  like_count INTEGER DEFAULT 0,
  search_vector TSVECTOR, -- ì „ë¬¸ ê²€ìƒ‰
  embedding VECTOR(1536), -- AI ë²¡í„° ì„ë² ë”©
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  published_at TIMESTAMPTZ
);
```

**í˜ì‹ ì  íŠ¹ì§•:**
- **ë²¡í„° ì„ë² ë”©**: OpenAI text-embedding-3-small (1536ì°¨ì›) ì €ì¥
- **ë©”íƒ€ë°ì´í„°**: ì²¨ë¶€íŒŒì¼ ì •ë³´ ë° AI ìš”ì•½ì„ JSONBë¡œ ìœ ì—°í•˜ê²Œ ì €ì¥
- **ë‹¤ì–‘í•œ ë…¸ë“œ íƒ€ì…**: Knowledge, Concept, Fact, Question, Idea, Project ë“± 12ê°€ì§€ ì§€ì›
- **ë²„ì „ ê´€ë¦¬**: ì§€ì‹ ë…¸ë“œì˜ ë³€ê²½ ì´ë ¥ ì¶”ì 

**`knowledge_relationships` í…Œì´ë¸” (30í–‰) - ì§€ì‹ ê°„ ê´€ê³„**
```sql
CREATE TABLE knowledge_relationships (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  source_node_id UUID REFERENCES knowledge_nodes(id) ON DELETE CASCADE,
  target_node_id UUID REFERENCES knowledge_nodes(id) ON DELETE CASCADE,
  relationship_type relationship_type DEFAULT 'related_to',
  weight NUMERIC DEFAULT 1.0 CHECK (weight >= 0.0 AND weight <= 1.0),
  confidence NUMERIC DEFAULT 1.0 CHECK (confidence >= 0.0 AND confidence <= 1.0),
  description TEXT,
  metadata JSONB DEFAULT '{}',
  created_by UUID REFERENCES auth.users(id),
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  comment TEXT
);
```

**ê³ ê¸‰ ê´€ê³„ ìœ í˜• (17ê°€ì§€):**
```sql
CREATE TYPE relationship_type AS ENUM (
  'related_to', 'depends_on', 'part_of', 'derives_from',
  'contradicts', 'supports', 'example_of', 'generalizes',
  'specializes', 'causes', 'enables', 'REFERENCES',
  'EXPANDS_ON', 'IS_A', 'CONTRADICTS', 'SUPPORTS', 'RELATES_TO'
);
```

#### 3.2.3 íƒœê·¸ ê´€ë¦¬ ì‹œìŠ¤í…œ

**`knowledge_tags` í…Œì´ë¸” (107í–‰)**
```sql
CREATE TABLE knowledge_tags (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  name TEXT NOT NULL CHECK (length(name) > 0 AND length(name) <= 50),
  color TEXT DEFAULT '#3B82F6' CHECK (color ~ '^#[0-9A-Fa-f]{6}$'),
  description TEXT,
  usage_count INTEGER DEFAULT 0 CHECK (usage_count >= 0),
  is_system_tag BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  UNIQUE(user_id, name)
);
```

**íŠ¹ì§•:**
- ìƒ‰ìƒ ì½”ë“œ ê²€ì¦ìœ¼ë¡œ ì¼ê´€ëœ UI ë³´ì¥
- ì‚¬ìš© íšŸìˆ˜ ìë™ ì¶”ì ìœ¼ë¡œ ì¸ê¸° íƒœê·¸ íŒŒì•…
- ì‹œìŠ¤í…œ íƒœê·¸ì™€ ì‚¬ìš©ì íƒœê·¸ êµ¬ë¶„

### 3.3 í•™ìŠµ ë„êµ¬ ë°ì´í„° êµ¬ì¡°

#### 3.3.1 í•™ìŠµ ì„¸ì…˜ ê´€ë¦¬

**`study_sessions` í…Œì´ë¸” (17í–‰)**
```sql
CREATE TABLE study_sessions (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  session_type VARCHAR CHECK (session_type IN (
    'memory_notes', 'flashcards', 'quiz', 'summary',
    'concept_map', 'ai_feedback'
  )),
  title VARCHAR NOT NULL,
  description TEXT,
  node_ids UUID[] DEFAULT '{}', -- ì—°ê´€ëœ ì§€ì‹ ë…¸ë“œë“¤
  session_data JSONB DEFAULT '{}', -- ì„¸ì…˜ë³„ ë§ì¶¤ ë°ì´í„°
  progress NUMERIC DEFAULT 0 CHECK (progress >= 0 AND progress <= 100),
  completed_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

#### 3.3.2 í€´ì¦ˆ ì‹œìŠ¤í…œ

**`quiz_questions` í…Œì´ë¸” (44í–‰)**
```sql
CREATE TABLE quiz_questions (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  session_id UUID REFERENCES study_sessions(id) ON DELETE CASCADE,
  question TEXT NOT NULL,
  question_type VARCHAR DEFAULT 'multiple_choice' CHECK (question_type IN (
    'multiple_choice', 'true_false', 'short_answer', 'essay'
  )),
  options JSONB, -- ê°ê´€ì‹ ì„ íƒì§€
  correct_answer TEXT NOT NULL,
  explanation TEXT,
  difficulty VARCHAR DEFAULT 'medium' CHECK (difficulty IN ('easy', 'medium', 'hard')),
  points INTEGER DEFAULT 1 CHECK (points > 0),
  tags TEXT[] DEFAULT '{}',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

**`quiz_results` í…Œì´ë¸” (12í–‰)**
```sql
CREATE TABLE quiz_results (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  session_id UUID REFERENCES study_sessions(id) ON DELETE CASCADE,
  question_id UUID REFERENCES quiz_questions(id) ON DELETE CASCADE,
  user_answer TEXT,
  is_correct BOOLEAN DEFAULT FALSE,
  time_taken INTEGER, -- ì†Œìš” ì‹œê°„ (ì´ˆ)
  points_earned INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

#### 3.3.3 í”Œë˜ì‹œì¹´ë“œ ì‹œìŠ¤í…œ

**`flashcards` í…Œì´ë¸” (121í–‰) - ê°€ì¥ í™œìš©ë„ê°€ ë†’ì€ í•™ìŠµ ë„êµ¬**
```sql
CREATE TABLE flashcards (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  session_id UUID REFERENCES study_sessions(id) ON DELETE CASCADE,
  question TEXT NOT NULL,
  answer TEXT NOT NULL,
  difficulty VARCHAR DEFAULT 'medium' CHECK (difficulty IN ('easy', 'medium', 'hard')),
  category VARCHAR,
  tags TEXT[] DEFAULT '{}',

  -- ê°„ê²© ë°˜ë³µ í•™ìŠµ (Spaced Repetition) ì•Œê³ ë¦¬ì¦˜
  review_count INTEGER DEFAULT 0,
  correct_count INTEGER DEFAULT 0,
  last_reviewed_at TIMESTAMPTZ,
  next_review_at TIMESTAMPTZ,
  ease_factor NUMERIC DEFAULT 2.5 CHECK (ease_factor >= 1.3),
  interval_days INTEGER DEFAULT 1 CHECK (interval_days > 0),

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

**í˜ì‹ ì  ê¸°ëŠ¥:**
- **ê°„ê²© ë°˜ë³µ í•™ìŠµ**: ease_factorì™€ interval_daysë¡œ ìµœì í™”ëœ ë³µìŠµ ìŠ¤ì¼€ì¤„ë§
- **í•™ìŠµ íš¨ê³¼ ì¶”ì **: ì •ë‹µë¥ ê³¼ ë³µìŠµ íšŸìˆ˜ ê¸°ë°˜ ìë™ ë‚œì´ë„ ì¡°ì •

### 3.4 ê³ ê¸‰ ê¸°ëŠ¥ í…Œì´ë¸”

#### 3.4.1 ì•Œë¦¼ ë° ì†Œì…œ ê¸°ëŠ¥

**`notifications` í…Œì´ë¸”**
```sql
CREATE TYPE notification_type AS ENUM (
  'node_shared', 'comment_added', 'node_liked',
  'relationship_created', 'mention', 'system_update'
);

CREATE TABLE notifications (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  recipient_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  sender_id UUID REFERENCES auth.users(id),
  type notification_type NOT NULL,
  title TEXT NOT NULL,
  message TEXT,
  related_node_id UUID REFERENCES knowledge_nodes(id),
  related_comment_id UUID REFERENCES node_comments(id),
  metadata JSONB DEFAULT '{}',
  is_read BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

#### 3.4.2 ë¶„ì„ ë° ì¶”ì  í…Œì´ë¸”

**`node_views` í…Œì´ë¸” - ì‚¬ìš©ì í–‰ë™ ë¶„ì„**
```sql
CREATE TABLE node_views (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  node_id UUID REFERENCES knowledge_nodes(id) ON DELETE CASCADE,
  viewer_id UUID REFERENCES auth.users(id),
  view_duration_seconds INTEGER DEFAULT 0,
  referrer TEXT,
  ip_address INET,
  user_agent TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

**`search_history` í…Œì´ë¸” - ê²€ìƒ‰ íŒ¨í„´ ë¶„ì„**
```sql
CREATE TABLE search_history (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id),
  query TEXT NOT NULL,
  filters JSONB DEFAULT '{}',
  results_count INTEGER DEFAULT 0,
  execution_time_ms INTEGER DEFAULT 0,
  clicked_node_id UUID REFERENCES knowledge_nodes(id),
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

### 3.5 ë²¡í„° ê²€ìƒ‰ ìµœì í™”

#### 3.5.1 pgvector ì¸ë±ìŠ¤ ì „ëµ

**ë²¡í„° ê²€ìƒ‰ ì¸ë±ìŠ¤:**
```sql
-- IVFFlat ì¸ë±ìŠ¤ (100ê°œ í´ëŸ¬ìŠ¤í„°)
CREATE INDEX ON knowledge_nodes USING ivfflat (embedding vector_cosine_ops)
WITH (lists = 100);

-- ê¸°íƒ€ ì„±ëŠ¥ ìµœì í™” ì¸ë±ìŠ¤
CREATE INDEX idx_knowledge_nodes_user_id ON knowledge_nodes(user_id);
CREATE INDEX idx_knowledge_nodes_tags ON knowledge_nodes USING GIN(tags);
CREATE INDEX idx_knowledge_nodes_created_at ON knowledge_nodes(created_at DESC);
CREATE INDEX idx_knowledge_nodes_is_active ON knowledge_nodes(is_active) WHERE is_active = TRUE;
```

#### 3.5.2 ë²¡í„° ê²€ìƒ‰ í•¨ìˆ˜

**ìµœì í™”ëœ ì‹œë§¨í‹± ê²€ìƒ‰ í•¨ìˆ˜:**
```sql
CREATE OR REPLACE FUNCTION search_similar_nodes(
  query_embedding vector(1536),
  match_threshold float DEFAULT 0.1,
  match_count int DEFAULT 10,
  target_user_id uuid DEFAULT NULL
)
RETURNS TABLE (
  id uuid,
  title text,
  content text,
  similarity float,
  node_type text,
  tags text[],
  created_at timestamptz
)
LANGUAGE plpgsql
AS $$
BEGIN
  RETURN QUERY
  SELECT
    kn.id,
    kn.title,
    kn.content,
    1 - (kn.embedding <=> query_embedding) as similarity,
    kn.node_type::text,
    kn.tags,
    kn.created_at
  FROM knowledge_nodes kn
  WHERE kn.embedding IS NOT NULL
    AND kn.is_active = TRUE
    AND (target_user_id IS NULL OR kn.user_id = target_user_id)
    AND 1 - (kn.embedding <=> query_embedding) > match_threshold
  ORDER BY kn.embedding <=> query_embedding
  LIMIT match_count;
END;
$$;
```

### 3.6 Row Level Security (RLS) ì •ì±…

#### 3.6.1 í¬ê´„ì  ë³´ì•ˆ ì •ì±…

**ì§€ì‹ ë…¸ë“œ ë³´ì•ˆ:**
```sql
-- ì§€ì‹ ë…¸ë“œ ì ‘ê·¼ ì œì–´
CREATE POLICY "Users can manage own knowledge nodes"
ON knowledge_nodes FOR ALL
USING (
  auth.uid() = user_id OR
  (is_public = true AND auth.role() = 'authenticated')
);

-- ê´€ê³„ ì •ë³´ ë³´ì•ˆ
CREATE POLICY "Users can manage own relationships"
ON knowledge_relationships FOR ALL
USING (
  EXISTS (
    SELECT 1 FROM knowledge_nodes kn
    WHERE (kn.id = source_node_id OR kn.id = target_node_id)
    AND kn.user_id = auth.uid()
  )
);

-- ë²¡í„° ì„ë² ë”© ë³´ì•ˆ
CREATE POLICY "Users can manage own embeddings"
ON node_embeddings FOR ALL
USING (
  EXISTS (
    SELECT 1 FROM knowledge_nodes kn
    WHERE kn.id = node_embeddings.node_id
    AND kn.user_id = auth.uid()
  )
);
```

### 3.7 ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ ì§€í‘œ

#### 3.7.1 í˜„ì¬ ë°ì´í„° ê·œëª¨
- **ì´ í…Œì´ë¸” ìˆ˜**: 15ê°œ
- **í™œì„± ì‚¬ìš©ì**: 2ëª…
- **ì§€ì‹ ë…¸ë“œ**: 49ê°œ
- **ì§€ì‹ ê´€ê³„**: 30ê°œ
- **íƒœê·¸**: 107ê°œ
- **í”Œë˜ì‹œì¹´ë“œ**: 121ê°œ (ê°€ì¥ í™œë°œíˆ ì‚¬ìš©ë¨)
- **í€´ì¦ˆ ë¬¸ì œ**: 44ê°œ
- **í•™ìŠµ ì„¸ì…˜**: 17ê°œ

#### 3.7.2 í™•ì¥ì„± ê³ ë ¤ì‚¬í•­

**ìˆ˜ì§ í™•ì¥ (Vertical Scaling):**
- pgvector ì¸ë±ìŠ¤ëŠ” ë©”ëª¨ë¦¬ ì§‘ì•½ì ì´ë¯€ë¡œ RAM ì¦ì„¤ë¡œ ì„±ëŠ¥ í–¥ìƒ
- CPU ì½”ì–´ ìˆ˜ ì¦ê°€ë¡œ ë²¡í„° ì—°ì‚° ë³‘ë ¬ ì²˜ë¦¬ ê°œì„ 

**ìˆ˜í‰ í™•ì¥ (Horizontal Scaling):**
- ì½ê¸° ì „ìš© ë³µì œë³¸ìœ¼ë¡œ ê²€ìƒ‰ ì„±ëŠ¥ ë¶„ì‚°
- ì‚¬ìš©ìë³„ ìƒ¤ë”©ìœ¼ë¡œ ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬

ì´ëŸ¬í•œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ë¥¼ í†µí•´ AI ê¸°ë°˜ ì§€ì‹ ê´€ë¦¬ì˜ ëª¨ë“  ìš”êµ¬ì‚¬í•­ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì§€ì›í•˜ë©°, í–¥í›„ í™•ì¥ì—ë„ ìœ ì—°í•˜ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 4. í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„ ìƒì„¸

### 4.1 AI ê¸°ë°˜ ê°œë³„ íŒŒì¼ ìš”ì•½ ì‹œìŠ¤í…œ â­ **í˜ì‹ ì  í•µì‹¬ ê¸°ëŠ¥**

#### 4.1.1 ì „ì²´ ì›Œí¬í”Œë¡œìš°

ë³¸ ì‹œìŠ¤í…œì˜ ê°€ì¥ í˜ì‹ ì ì¸ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ëŠ” **ì™„ì „ ìë™í™”ëœ íŒŒì¼ ìš”ì•½ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤. ì‚¬ìš©ìê°€ PDFë‚˜ í…ìŠ¤íŠ¸ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì™„ì „ ìë™í™”ëœ ê³¼ì •ì´ ì§„í–‰ë©ë‹ˆë‹¤:

```
ì‚¬ìš©ì íŒŒì¼ ì—…ë¡œë“œ
       â†“
Supabase Storageì— íŒŒì¼ ì €ì¥
       â†“
Edge Functionìœ¼ë¡œ Base64 ë³€í™˜í•˜ì—¬ ì „ì†¡
       â†“
pdf-parse ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ í…ìŠ¤íŠ¸ ì¶”ì¶œ
       â†“
GPT-4o-minië¡œ 200ë‹¨ì–´ ìš”ì•½ ìƒì„±
       â†“
ë©”íƒ€ë°ì´í„°ì— ìš”ì•½ ì €ì¥ ë° UI ì—…ë°ì´íŠ¸
```

#### 4.1.2 ì„œë²„ì‚¬ì´ë“œ PDF ì²˜ë¦¬ êµ¬í˜„

**Edge Function êµ¬í˜„ (`extract-pdf-text`):**
```typescript
// supabase/functions/extract-pdf-text/index.ts
import "jsr:@supabase/functions-js/edge-runtime.d.ts"
import pdf from "npm:pdf-parse@1.1.1"

Deno.serve(async (req) => {
  const corsHeaders = {
    'Access-Control-Allow-Origin': '*',
    'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
    'Access-Control-Allow-Methods': 'POST, OPTIONS',
  }

  if (req.method === 'OPTIONS') {
    return new Response('ok', { headers: corsHeaders })
  }

  try {
    const { fileData, fileName } = await req.json()

    // Base64 ë°ì´í„°ë¥¼ ArrayBufferë¡œ ë³€í™˜
    const binaryData = Uint8Array.from(atob(fileData), c => c.charCodeAt(0))
    const buffer = binaryData.buffer

    // PDF íŒŒì‹± ì‹¤í–‰
    const data = await pdf(buffer)
    const extractedText = data.text || ''
    const pageCount = data.numpages || 0

    // í…ìŠ¤íŠ¸ê°€ ë„ˆë¬´ ê¸¸ë©´ ìë¥´ê¸° (15ë§Œì ì œí•œ)
    let finalText = extractedText
    if (finalText.length > 150000) {
      finalText = finalText.substring(0, 150000)
      finalText += '\n\n[ğŸ“‹ í…ìŠ¤íŠ¸ê°€ ë„ˆë¬´ ê¸¸ì–´ ì¼ë¶€ë§Œ í¬í•¨ë©ë‹ˆë‹¤]'
    }

    return new Response(JSON.stringify({
      text: finalText,
      pageCount: pageCount,
      characterCount: extractedText.length,
      fileName: fileName
    }), {
      headers: { ...corsHeaders, 'Content-Type': 'application/json' }
    })

  } catch (error) {
    console.error('âŒ PDF í…ìŠ¤íŠ¸ ì¶”ì¶œ ì˜¤ë¥˜:', error)
    return new Response(JSON.stringify({
      error: 'PDF text extraction failed',
      details: error.message
    }), {
      status: 500,
      headers: { ...corsHeaders, 'Content-Type': 'application/json' }
    })
  }
})
```

**í•µì‹¬ í•´ê²° ê³¼ì œ:**
- **CSP ì œì•½ í•´ê²°**: í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì—ì„œ ë¶ˆê°€ëŠ¥í•œ PDF ì²˜ë¦¬ë¥¼ ì„œë²„ì‚¬ì´ë“œì—ì„œ ìˆ˜í–‰
- **ëŒ€ìš©ëŸ‰ íŒŒì¼ ì²˜ë¦¬**: 15ë§Œì ì œí•œìœ¼ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± í™•ë³´
- **ì•ˆì •ì„±**: Deno ëŸ°íƒ€ì„ì˜ ì•ˆì „í•œ ì‹¤í–‰ í™˜ê²½ í™œìš©

#### 4.1.3 AI íŒŒì¼ ìš”ì•½ ìƒì„±

**AIService í´ë˜ìŠ¤ì˜ íŒŒì¼ ìš”ì•½ ë©”ì„œë“œ:**
```typescript
// src/services/ai.service.ts
async summarizeFile(fileUrl: string, fileName: string): Promise<string> {
  try {
    console.log(`ğŸ“„ ê°œë³„ íŒŒì¼ ìš”ì•½ ìƒì„± ì‹œì‘: ${fileName}`);

    // íŒŒì¼ ë‹¤ìš´ë¡œë“œ ë° í…ìŠ¤íŠ¸ ì¶”ì¶œ
    const fileText = await this.downloadAndExtractFile(fileUrl, fileName);

    if (!fileText || fileText.length < 100) {
      return 'íŒŒì¼ ë‚´ìš©ì´ ë„ˆë¬´ ì§§ì•„ì„œ ìš”ì•½ì´ í•„ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
    }

    // AIë¡œ íŒŒì¼ ë‚´ìš© ìš”ì•½ ìƒì„±
    const prompt = `ë‹¤ìŒ íŒŒì¼ì˜ ë‚´ìš©ì„ 2-3ë¬¸ì¥ìœ¼ë¡œ ê°„ê²°í•˜ê²Œ ìš”ì•½í•´ì£¼ì„¸ìš”. í•µì‹¬ ë‚´ìš©ê³¼ ì£¼ìš” ì •ë³´ë¥¼ í¬í•¨í•˜ì„¸ìš”.

**íŒŒì¼ëª…:** ${fileName}

**ë‚´ìš©:**
${fileText.substring(0, 8000)} ${fileText.length > 8000 ? '...(ë‚´ìš©ì´ ê¸¸ì–´ ì¼ë¶€ë§Œ í‘œì‹œ)' : ''}

**ìš”ì•½:**`;

    const completion = await openai.chat.completions.create({
      model: 'gpt-4o-mini',
      messages: [
        {
          role: 'system',
          content: 'ì²¨ë¶€ íŒŒì¼ì˜ ë‚´ìš©ì„ ê°„ê²°í•˜ê³  ì •í™•í•˜ê²Œ ìš”ì•½í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤. íŒŒì¼ì˜ í•µì‹¬ ë‚´ìš©ê³¼ ì£¼ìš” í¬ì¸íŠ¸ë¥¼ íŒŒì•…í•˜ì—¬ 2-3ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ì„¸ìš”.'
        },
        {
          role: 'user',
          content: prompt
        }
      ],
      max_tokens: 200,
      temperature: 0.5
    });

    const summary = completion.choices[0]?.message?.content || 'ìš”ì•½ì„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
    console.log(`âœ… íŒŒì¼ ìš”ì•½ ìƒì„± ì™„ë£Œ: ${fileName} (${summary.length}ì)`);
    return summary;

  } catch (error) {
    console.error(`âŒ íŒŒì¼ ìš”ì•½ ìƒì„± ì‹¤íŒ¨: ${fileName}`, error);
    throw new Error(`íŒŒì¼ ìš”ì•½ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${error.message}`);
  }
}
```

#### 4.1.4 ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ í†µí•©

**ì‹ ê·œ íŒŒì¼ ì—…ë¡œë“œ ì‹œ ìë™ ìš”ì•½ (CreateNodePage.tsx):**
```typescript
// íŒŒì¼ ì—…ë¡œë“œ í›„ ìë™ ìš”ì•½ ìƒì„±
const generateFileSummaryOnUpload = async (fileIndex: number, file: any) => {
  if (!file.url || !file.name) return;

  setGeneratingFileSummaries(prev => new Set([...prev, fileIndex]));

  try {
    const summary = await aiService.summarizeFile(file.url, file.name);

    // ì—…ë¡œë“œëœ íŒŒì¼ì— ìš”ì•½ ì¶”ê°€
    setUploadedFiles(prev =>
      prev.map((uploadedFile, index) =>
        index === fileIndex ? { ...uploadedFile, summary } : uploadedFile
      )
    );

    toast.success(`"${file.name}" íŒŒì¼ì˜ ìš”ì•½ì´ ìë™ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!`);

  } catch (error) {
    // ìš”ì•½ ìƒì„± ì‹¤íŒ¨ ì‹œ ì¡°ìš©íˆ ë„˜ì–´ê°€ê¸° (íŒŒì¼ ì—…ë¡œë“œëŠ” ì„±ê³µ)
    console.warn('íŒŒì¼ ìš”ì•½ ìƒì„±ì— ì‹¤íŒ¨í–ˆì§€ë§Œ íŒŒì¼ ì—…ë¡œë“œëŠ” ì„±ê³µí–ˆìŠµë‹ˆë‹¤.');
  } finally {
    setGeneratingFileSummaries(prev => {
      const newSet = new Set(prev);
      newSet.delete(fileIndex);
      return newSet;
    });
  }
};

// FileUpload ì»´í¬ë„ŒíŠ¸ onFileUploaded ì½œë°±ì—ì„œ ìë™ ì‹¤í–‰
const fileIndex = uploadedFiles.length;
setTimeout(() => {
  generateFileSummaryOnUpload(fileIndex, newFile);
}, 1000); // UI ì—…ë°ì´íŠ¸ ì™„ë£Œ í›„ ì‹¤í–‰
```

**ê¸°ì¡´ ë…¸ë“œ íŒŒì¼ ìš”ì•½ ìƒì„± (NodeDetailPage.tsx):**
```typescript
// ê°œë³„ íŒŒì¼ ìš”ì•½ ìƒì„±
const generateFileSummary = async (fileIndex: number, file: any) => {
  if (!nodeId || !node) return;

  setGeneratingFileSummaries(prev => new Set([...prev, fileIndex]));

  try {
    const summary = await aiService.summarizeFile(file.url, file.name);

    // íŒŒì¼ ë©”íƒ€ë°ì´í„°ì— ìš”ì•½ ì¶”ê°€
    const updatedFiles = [...(node.metadata.files || [])];
    updatedFiles[fileIndex] = { ...updatedFiles[fileIndex], summary };

    await knowledgeService.updateNode(nodeId, {
      metadata: { ...node.metadata, files: updatedFiles }
    });

    queryClient.invalidateQueries({ queryKey: ['node', nodeId] });
    toast.success(`"${file.name}" íŒŒì¼ì˜ ìš”ì•½ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!`);

  } catch (error) {
    toast.error('íŒŒì¼ ìš”ì•½ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
  } finally {
    setGeneratingFileSummaries(prev => {
      const newSet = new Set(prev);
      newSet.delete(fileIndex);
      return newSet;
    });
  }
};
```

### 4.2 ë²¡í„° ì˜ë¯¸ ê²€ìƒ‰ ì‹œìŠ¤í…œ

#### 4.2.1 ì„ë² ë”© ìƒì„± ë° ì €ì¥

**EmbeddingService í´ë˜ìŠ¤:**
```typescript
// src/services/embedding.service.ts
export class EmbeddingService {
  private readonly EMBEDDING_MODEL = 'text-embedding-3-small';
  private readonly EMBEDDING_DIMENSION = 1536;

  // í…ìŠ¤íŠ¸ë¥¼ ë²¡í„°ë¡œ ë³€í™˜
  async generateEmbedding(text: string): Promise<number[]> {
    const cleanText = this.preprocessText(text);

    const response = await fetch(`${this.OPENAI_API_URL}/embeddings`, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${this.OPENAI_API_KEY}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        model: this.EMBEDDING_MODEL,
        input: cleanText,
        encoding_format: 'float'
      }),
    });

    const data = await response.json();
    return data.data[0].embedding;
  }

  // ì§€ì‹ ë…¸ë“œì˜ ì„ë² ë”© ìƒì„± ë° ì €ì¥
  async generateAndStoreNodeEmbedding(
    nodeId: string,
    title: string,
    content: string,
    files?: File[]
  ): Promise<void> {
    try {
      // íŒŒì¼ í…ìŠ¤íŠ¸ ì¶”ì¶œ
      let fileText = '';
      if (files && files.length > 0) {
        const { FileTextExtractor } = await import('../lib/fileTextExtractor');
        fileText = await FileTextExtractor.extractTextFromFiles(files);
      }

      // ì œëª©, ë‚´ìš©, íŒŒì¼ ë‚´ìš©ì„ ê²°í•©
      const combinedText = [title, content, fileText]
        .filter(text => text && text.trim().length > 0)
        .join('\n\n---\n\n');

      // OpenAI ì„ë² ë”© ìƒì„±
      const embedding = await this.generateEmbedding(combinedText);
      const contentHash = btoa(combinedText).slice(0, 32);

      // Supabaseì— ë²¡í„° ì €ì¥
      const { error } = await supabase
        .from('knowledge_nodes')
        .update({ embedding: JSON.stringify(embedding) })
        .eq('id', nodeId);

      if (error) throw error;

    } catch (error) {
      console.error('ì„ë² ë”© ìƒì„± ë° ì €ì¥ ì‹¤íŒ¨:', error);
      throw error;
    }
  }
}
```

#### 4.2.2 ì˜ë¯¸ ê²€ìƒ‰ êµ¬í˜„

**ì‹œë§¨í‹± ê²€ìƒ‰ ì„œë¹„ìŠ¤:**
```typescript
// src/services/search.service.ts
class SearchService {
  async semanticSearch(
    query: string,
    options?: {
      limit?: number;
      similarity_threshold?: number;
      user_id?: string;
    }
  ): Promise<SemanticSearchResult[]> {
    try {
      const { limit = 10, similarity_threshold = 0.1, user_id } = options || {};

      // ê²€ìƒ‰ ì¿¼ë¦¬ì˜ ë²¡í„° ìƒì„±
      const queryEmbedding = await this.embeddingService.generateEmbedding(query);

      // pgvectorë¥¼ ì‚¬ìš©í•œ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê²€ìƒ‰
      const { data, error } = await supabase.rpc('search_similar_nodes', {
        query_embedding: JSON.stringify(queryEmbedding),
        match_threshold: similarity_threshold,
        match_count: limit,
        target_user_id: user_id
      });

      if (error) throw error;

      return data.map((item: any) => ({
        id: item.id,
        title: item.title,
        content: item.content,
        tags: item.tags || [],
        similarity: item.similarity,
        node_type: item.node_type,
        created_at: item.created_at
      }));

    } catch (error) {
      console.error('ì˜ë¯¸ ê²€ìƒ‰ ì‹¤íŒ¨:', error);
      return [];
    }
  }

  // í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (í‚¤ì›Œë“œ + ë²¡í„°)
  async hybridSearch(
    query: string,
    options?: {
      limit?: number;
      user_id?: string;
    }
  ): Promise<SearchResult[]> {
    try {
      const { limit = 10, user_id } = options || {};

      // 1. ë²¡í„° ê²€ìƒ‰ ìˆ˜í–‰
      const semanticResults = await this.semanticSearch(query, {
        limit: Math.ceil(limit * 0.7), // 70%ëŠ” ì˜ë¯¸ ê²€ìƒ‰
        user_id
      });

      // 2. í‚¤ì›Œë“œ ê²€ìƒ‰ ìˆ˜í–‰
      const keywordResults = await this.keywordSearch(query, {
        limit: Math.ceil(limit * 0.3), // 30%ëŠ” í‚¤ì›Œë“œ ê²€ìƒ‰
        user_id
      });

      // 3. ê²°ê³¼ í•©ì¹˜ê¸° (ì¤‘ë³µ ì œê±°)
      const combined = this.combineSearchResults(semanticResults, keywordResults);

      return combined.slice(0, limit);

    } catch (error) {
      console.error('í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹¤íŒ¨:', error);
      return [];
    }
  }
}
```

### 4.3 RAG (Retrieval Augmented Generation) ì‹œìŠ¤í…œ

#### 4.3.1 ì§€ì‹ ê¸°ë°˜ AI ì±„íŒ…

**RAG ì‹œìŠ¤í…œ êµ¬í˜„:**
```typescript
// src/services/ai.service.ts
async askRAG(question: string, userId?: string): Promise<RAGResponse> {
  try {
    console.log('ğŸ¤– RAG ì§ˆë¬¸:', question);

    // 1. ì‹œë§¨í‹± ê²€ìƒ‰ìœ¼ë¡œ ê´€ë ¨ ì§€ì‹ ì°¾ê¸°
    const embeddingService = await import('./embedding.service');
    const similarResults = await embeddingService.embeddingService.semanticSearch(question, {
      limit: 3,
      similarity_threshold: 0.3,
      user_id: userId
    });

    if (similarResults.length === 0) {
      return {
        answer: 'ì£„ì†¡í•©ë‹ˆë‹¤. ê´€ë ¨ëœ ì§€ì‹ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë” êµ¬ì²´ì ì¸ ì§ˆë¬¸ì„ í•´ë³´ì‹œê±°ë‚˜ ê´€ë ¨ ì§€ì‹ì„ ë¨¼ì € ì¶”ê°€í•´ì£¼ì„¸ìš”.',
        sources: [],
        tokens_used: 0
      }
    }

    // 2. ê²€ìƒ‰ëœ ì§€ì‹ì„ ì»¨í…ìŠ¤íŠ¸ë¡œ êµ¬ì„±
    const context = similarResults
      .map((node, index) => `[ì§€ì‹ ${index + 1}] ${node.title}\n${node.content}`)
      .join('\n\n---\n\n')

    // 3. GPTë¥¼ ì‚¬ìš©í•´ ë‹µë³€ ìƒì„±
    const prompt = `ë‹¤ìŒ ì§€ì‹ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ì§ˆë¬¸ì— ë‹µí•´ì£¼ì„¸ìš”. ë‹µë³€ì€ í•œêµ­ì–´ë¡œ, ì •í™•í•˜ê³  ë„ì›€ì´ ë˜ë„ë¡ ì‘ì„±í•´ì£¼ì„¸ìš”.

**ì§ˆë¬¸:** ${question}

**ê´€ë ¨ ì§€ì‹:**
${context}

**ë‹µë³€ ì§€ì¹¨:**
1. ì œê³µëœ ì§€ì‹ì„ ë°”íƒ•ìœ¼ë¡œ ì •í™•í•˜ê²Œ ë‹µë³€í•˜ì„¸ìš”
2. ì§€ì‹ì— ì—†ëŠ” ë‚´ìš©ì€ ì¶”ì¸¡í•˜ì§€ ë§ˆì„¸ìš”
3. ê°€ëŠ¥í•˜ë©´ ì–´ë–¤ ì§€ì‹ì„ ì°¸ê³ í–ˆëŠ”ì§€ ì–¸ê¸‰í•˜ì„¸ìš”
4. ë‹µë³€ì€ ì¹œê·¼í•˜ê³  ì´í•´í•˜ê¸° ì‰½ê²Œ ì‘ì„±í•˜ì„¸ìš”

**ë‹µë³€:**`

    const completion = await openai.chat.completions.create({
      model: 'gpt-4o-mini',
      messages: [
        {
          role: 'system',
          content: 'ë‹¹ì‹ ì€ ì‚¬ìš©ìì˜ ê°œì¸ ì§€ì‹ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì§ˆë¬¸ì— ë‹µí•˜ëŠ” AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ì •í™•í•˜ê³  ë„ì›€ì´ ë˜ëŠ” ë‹µë³€ì„ ì œê³µí•˜ì„¸ìš”.'
        },
        {
          role: 'user',
          content: prompt
        }
      ],
      max_tokens: 500,
      temperature: 0.7
    })

    const answer = completion.choices[0]?.message?.content || 'ë‹µë³€ì„ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'

    return {
      answer,
      sources: similarResults,
      tokens_used: completion.usage?.total_tokens || 0
    }

  } catch (error) {
    console.error('âŒ RAG ì‹œìŠ¤í…œ ì˜¤ë¥˜:', error)
    throw new Error('AI ë‹µë³€ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤')
  }
}
```

### 4.4 D3.js ê¸°ë°˜ ì§€ì‹ ê·¸ë˜í”„ ì‹œê°í™”

#### 4.4.1 ì¸í„°ë™í‹°ë¸Œ ê·¸ë˜í”„ êµ¬í˜„

**KnowledgeGraph ì»´í¬ë„ŒíŠ¸:**
```typescript
// src/components/KnowledgeGraph.tsx
import * as d3 from 'd3';

export function KnowledgeGraph({ nodes, links, onNodeClick }: Props) {
  const svgRef = useRef<SVGSVGElement>(null);

  useEffect(() => {
    if (!svgRef.current || nodes.length === 0) return;

    const svg = d3.select(svgRef.current);
    svg.selectAll("*").remove();

    const width = 800;
    const height = 600;

    // Force ì‹œë®¬ë ˆì´ì…˜ ì„¤ì •
    const simulation = d3.forceSimulation(nodes)
      .force("link", d3.forceLink(links).id((d: any) => d.id).distance(100))
      .force("charge", d3.forceManyBody().strength(-300))
      .force("center", d3.forceCenter(width / 2, height / 2))
      .force("collision", d3.forceCollide().radius(20));

    // ì¤Œ ê¸°ëŠ¥ ì¶”ê°€
    const zoom = d3.zoom()
      .scaleExtent([0.5, 3])
      .on("zoom", (event) => {
        container.attr("transform", event.transform);
      });

    svg.call(zoom);

    const container = svg.append("g");

    // ë§í¬ ë Œë”ë§
    const link = container.selectAll("line")
      .data(links)
      .enter().append("line")
      .attr("stroke", "#999")
      .attr("stroke-opacity", 0.6)
      .attr("stroke-width", (d: any) => Math.sqrt(d.weight * 3));

    // ë…¸ë“œ ë Œë”ë§
    const node = container.selectAll("circle")
      .data(nodes)
      .enter().append("circle")
      .attr("r", (d: any) => Math.max(8, Math.sqrt(d.connections * 2)))
      .attr("fill", (d: any) => getNodeColor(d.type))
      .call(d3.drag()
        .on("start", dragstarted)
        .on("drag", dragged)
        .on("end", dragended)
      )
      .on("click", (event, d) => onNodeClick(d))
      .on("mouseover", function(event, d) {
        // í˜¸ë²„ íš¨ê³¼
        d3.select(this).transition().duration(200).attr("r", 12);
        showTooltip(event, d);
      })
      .on("mouseout", function(event, d) {
        d3.select(this).transition().duration(200).attr("r", 8);
        hideTooltip();
      });

    // ë¼ë²¨ ë Œë”ë§
    const labels = container.selectAll("text")
      .data(nodes)
      .enter().append("text")
      .text((d: any) => d.title.length > 20 ? d.title.substring(0, 20) + '...' : d.title)
      .attr("font-size", "10px")
      .attr("dx", 15)
      .attr("dy", 4)
      .style("pointer-events", "none");

    // ì‹œë®¬ë ˆì´ì…˜ ì—…ë°ì´íŠ¸
    simulation.on("tick", () => {
      link
        .attr("x1", (d: any) => d.source.x)
        .attr("y1", (d: any) => d.source.y)
        .attr("x2", (d: any) => d.target.x)
        .attr("y2", (d: any) => d.target.y);

      node
        .attr("cx", (d: any) => d.x)
        .attr("cy", (d: any) => d.y);

      labels
        .attr("x", (d: any) => d.x)
        .attr("y", (d: any) => d.y);
    });

    // ë“œë˜ê·¸ í•¨ìˆ˜ë“¤
    function dragstarted(event: any, d: any) {
      if (!event.active) simulation.alphaTarget(0.3).restart();
      d.fx = d.x;
      d.fy = d.y;
    }

    function dragged(event: any, d: any) {
      d.fx = event.x;
      d.fy = event.y;
    }

    function dragended(event: any, d: any) {
      if (!event.active) simulation.alphaTarget(0);
      d.fx = null;
      d.fy = null;
    }

  }, [nodes, links, onNodeClick]);

  return (
    <div className="relative">
      <svg ref={svgRef} width="800" height="600" className="border rounded-lg bg-white" />
      <div className="absolute top-4 right-4 bg-white p-2 rounded shadow">
        <div className="text-sm text-gray-600">
          ë…¸ë“œ: {nodes.length} | ê´€ê³„: {links.length}
        </div>
      </div>
    </div>
  );
}
```

### 4.5 í•™ìŠµ ë„êµ¬ ì‹œìŠ¤í…œ

#### 4.5.1 AI í€´ì¦ˆ ìƒì„± ì—”ì§„

**ê°•í™”ëœ JSON íŒŒì‹± ì‹œìŠ¤í…œ:**
```typescript
// src/services/ai.service.ts
// ê°•í™”ëœ JSON ì •ë¦¬ ë©”ì„œë“œ
private cleanJsonResponse(response: string): string {
  let cleanResponse = response.trim();

  // ë‹¤ì–‘í•œ í˜•íƒœì˜ JSON ì½”ë“œ ë¸”ë¡ ì œê±°
  cleanResponse = cleanResponse.replace(/```json\s*/gi, '');
  cleanResponse = cleanResponse.replace(/```\s*/g, '');
  cleanResponse = cleanResponse.replace(/^json\s*/gi, '');

  // JSON ê°ì²´ë§Œ ì¶”ì¶œ (ì²« ë²ˆì§¸ { ë¶€í„° ë§ˆì§€ë§‰ } ê¹Œì§€)
  const jsonStart = cleanResponse.indexOf('{');
  const jsonEnd = cleanResponse.lastIndexOf('}');

  if (jsonStart !== -1 && jsonEnd !== -1 && jsonEnd > jsonStart) {
    cleanResponse = cleanResponse.substring(jsonStart, jsonEnd + 1);
  }

  return cleanResponse;
}

// ê°•í™”ëœ í€´ì¦ˆ ë¬¸ì œ JSON íŒŒì‹± ë©”ì„œë“œ
private parseQuizQuestionJson(jsonString: string, questionType: string): any | null {
  try {
    // ì¼ë°˜ì ì¸ JSON íŒŒì‹± ì‹œë„
    const parsed = JSON.parse(jsonString);

    // í•„ìˆ˜ í•„ë“œ ê²€ì¦
    if (!parsed.question || !parsed.explanation) {
      throw new Error('í•„ìˆ˜ í•„ë“œ ëˆ„ë½');
    }

    return parsed;
  } catch (parseError) {
    console.error('í‘œì¤€ JSON íŒŒì‹± ì‹¤íŒ¨, ëŒ€ì²´ ë¡œì§ ì‹œë„:', parseError);

    // ëŒ€ì²´ ë°©ë²•: ì •ê·œì‹ìœ¼ë¡œ í•„ìš”í•œ ê°’ë“¤ ì¶”ì¶œ
    try {
      const questionMatch = jsonString.match(/"question"\s*:\s*"([^"]+)"/);
      const explanationMatch = jsonString.match(/"explanation"\s*:\s*"([^"]+)"/);

      if (!questionMatch || !explanationMatch) {
        return null;
      }

      if (questionType === 'multiple_choice') {
        const optionsMatch = jsonString.match(/"options"\s*:\s*\[([^\]]+)\]/);
        const correctAnswerMatch = jsonString.match(/"correct_answer"\s*:\s*"([^"]+)"/);

        if (!optionsMatch || !correctAnswerMatch) {
          return null;
        }

        // options ë°°ì—´ íŒŒì‹± ê°œì„ 
        const optionsString = optionsMatch[1];
        const options = optionsString
          .split(',')
          .map(opt => opt.trim().replace(/^"|"$/g, ''))
          .filter(opt => opt.length > 0);

        return {
          question: questionMatch[1],
          options: options,
          correct_answer: correctAnswerMatch[1],
          explanation: explanationMatch[1]
        };
      }

      return null;
    } catch (regexError) {
      console.error('ì •ê·œì‹ íŒŒì‹±ë„ ì‹¤íŒ¨:', regexError);
      return null;
    }
  }
}
```

ì´ëŸ¬í•œ í•µì‹¬ ê¸°ëŠ¥ë“¤ì´ ìœ ê¸°ì ìœ¼ë¡œ ê²°í•©ë˜ì–´ Synapse AIì˜ ê°•ë ¥í•œ ì§€ì‹ ê´€ë¦¬ ìƒíƒœê³„ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.

---

## 5. ì‚¬ìš©ì ê²½í—˜ ë° ë³´ì•ˆ

### 5.1 ì‚¬ìš©ì ì¤‘ì‹¬ ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„

#### 5.1.1 ì§ê´€ì ì¸ ë„¤ë¹„ê²Œì´ì…˜

**ë©”ì¸ ë ˆì´ì•„ì›ƒ êµ¬ì¡° (`Layout.tsx`):**
```typescript
// src/components/layout/Layout.tsx
export function Layout() {
  return (
    <div className="min-h-screen bg-gray-50 flex">
      {/* ì‚¬ì´ë“œë°” - ì£¼ìš” ê¸°ëŠ¥ì— ë¹ ë¥¸ ì ‘ê·¼ */}
      <Sidebar />

      <div className="flex-1 flex flex-col">
        {/* ìƒë‹¨ í—¤ë” - ì „ì—­ ê²€ìƒ‰ ë° ì‚¬ìš©ì ë©”ë‰´ */}
        <Header />

        {/* ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ */}
        <main className="flex-1 overflow-y-auto">
          <Outlet />
        </main>
      </div>

      {/* ì•Œë¦¼ íŒ¨ë„ - ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ */}
      <NotificationPanel />
    </div>
  );
}
```

**ì‚¬ì´ë“œë°” ë©”ë‰´ êµ¬ì¡°:**
```typescript
const menuItems = [
  { name: 'ëŒ€ì‹œë³´ë“œ', href: '/app/dashboard', icon: HomeIcon, badge: null },
  { name: 'ì§€ì‹ ê´€ë¦¬', href: '/app/knowledge', icon: BookOpenIcon, badge: '49' },
  { name: 'ì§€ì‹ ê·¸ë˜í”„', href: '/app/graph', icon: ShareIcon, badge: null },
  { name: 'ê²€ìƒ‰', href: '/app/search', icon: MagnifyingGlassIcon, badge: null },
  { name: 'AI ì±„íŒ…', href: '/app/ai-chat', icon: ChatBubbleLeftIcon, badge: 'new' },

  // í•™ìŠµ ë„êµ¬ ê·¸ë£¹
  { group: 'í•™ìŠµ ë„êµ¬' },
  { name: 'í•™ìŠµ í™œë™', href: '/app/study', icon: AcademicCapIcon, badge: '17' },
  { name: 'í”Œë˜ì‹œì¹´ë“œ', href: '/app/study/flashcards', icon: RectangleStackIcon, badge: '121' },
  { name: 'í€´ì¦ˆ', href: '/app/study/quiz', icon: QuestionMarkCircleIcon, badge: '44' },

  // ê´€ë¦¬ ë„êµ¬
  { group: 'ê´€ë¦¬' },
  { name: 'íƒœê·¸ ê´€ë¦¬', href: '/app/tags', icon: TagIcon, badge: '107' },
  { name: 'í†µê³„', href: '/app/stats', icon: ChartBarIcon, badge: null },
  { name: 'ì„¤ì •', href: '/app/settings', icon: CogIcon, badge: null },
];
```

#### 5.1.2 ê¸€ë¡œë²Œ ê²€ìƒ‰ ì‹œìŠ¤í…œ

**ì „ì—­ ê²€ìƒ‰ ëª¨ë‹¬ (`GlobalSearchModal.tsx`):**
```typescript
// í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ë¡œ ì¦‰ì‹œ ì ‘ê·¼ ê°€ëŠ¥ (Cmd/Ctrl + K)
export function GlobalSearchModal({ isOpen, onClose }: Props) {
  const [query, setQuery] = useState('');
  const [results, setResults] = useState<SearchResult[]>([]);
  const [isLoading, setIsLoading] = useState(false);

  // ë””ë°”ìš´ìŠ¤ëœ ê²€ìƒ‰ (300ms ì§€ì—°)
  const debouncedSearch = useCallback(
    debounce(async (searchQuery: string) => {
      if (searchQuery.length < 2) {
        setResults([]);
        return;
      }

      setIsLoading(true);
      try {
        // í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (í‚¤ì›Œë“œ + ë²¡í„°)
        const searchResults = await searchService.hybridSearch(searchQuery, {
          limit: 10
        });
        setResults(searchResults);
      } catch (error) {
        console.error('ê²€ìƒ‰ ì‹¤íŒ¨:', error);
      } finally {
        setIsLoading(false);
      }
    }, 300),
    []
  );

  return (
    <Dialog open={isOpen} onClose={onClose} className="relative z-50">
      <div className="fixed inset-0 bg-black/25" />
      <div className="fixed inset-0 flex items-start justify-center pt-20">
        <Dialog.Panel className="mx-auto max-w-xl w-full bg-white rounded-xl shadow-2xl">
          {/* ê²€ìƒ‰ ì…ë ¥ */}
          <div className="flex items-center px-4 py-3 border-b">
            <MagnifyingGlassIcon className="h-5 w-5 text-gray-400" />
            <input
              type="text"
              placeholder="ì§€ì‹ ê²€ìƒ‰... (ë²¡í„° ê²€ìƒ‰ ì§€ì›)"
              value={query}
              onChange={(e) => {
                setQuery(e.target.value);
                debouncedSearch(e.target.value);
              }}
              className="ml-3 flex-1 outline-none text-sm"
              autoFocus
            />
            <kbd className="text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded">
              ESC
            </kbd>
          </div>

          {/* ê²€ìƒ‰ ê²°ê³¼ */}
          <div className="max-h-96 overflow-y-auto">
            {isLoading && (
              <div className="p-4 text-center">
                <div className="inline-block animate-spin rounded-full h-6 w-6 border-2 border-blue-600 border-t-transparent" />
              </div>
            )}

            {results.map((result) => (
              <div
                key={result.id}
                className="p-4 hover:bg-gray-50 cursor-pointer border-b last:border-b-0"
                onClick={() => {
                  navigate(`/app/knowledge/${result.id}`);
                  onClose();
                }}
              >
                <div className="flex items-start justify-between">
                  <div className="flex-1">
                    <h3 className="text-sm font-medium text-gray-900">
                      {result.title}
                    </h3>
                    <p className="text-xs text-gray-600 mt-1 line-clamp-2">
                      {result.content?.substring(0, 100)}...
                    </p>
                    <div className="flex items-center mt-2 space-x-2">
                      {result.similarity && (
                        <span className="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded">
                          ìœ ì‚¬ë„: {(result.similarity * 100).toFixed(1)}%
                        </span>
                      )}
                      <span className="text-xs text-gray-500">
                        {result.node_type}
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            ))}

            {query.length >= 2 && results.length === 0 && !isLoading && (
              <div className="p-8 text-center text-gray-500">
                <MagnifyingGlassIcon className="h-8 w-8 mx-auto mb-2 text-gray-300" />
                <p className="text-sm">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                <p className="text-xs mt-1">ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”.</p>
              </div>
            )}
          </div>
        </Dialog.Panel>
      </div>
    </Dialog>
  );
}
```

#### 5.1.3 ë°˜ì‘í˜• ë””ìì¸

**ëª¨ë°”ì¼ ìµœì í™” (`tailwind.config.js`):**
```javascript
module.exports = {
  theme: {
    extend: {
      screens: {
        'xs': '475px',    // ì´ˆì†Œí˜• ëª¨ë°”ì¼
        'sm': '640px',    // ëª¨ë°”ì¼
        'md': '768px',    // íƒœë¸”ë¦¿
        'lg': '1024px',   // ì†Œí˜• ë°ìŠ¤í¬í†±
        'xl': '1280px',   // ëŒ€í˜• ë°ìŠ¤í¬í†±
        '2xl': '1536px',  // ì´ˆëŒ€í˜• ë””ìŠ¤í”Œë ˆì´
      },
      spacing: {
        '18': '4.5rem',
        '88': '22rem',
      }
    }
  }
}
```

**ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ:**
```typescript
// ì§€ì‹ ë…¸ë“œ ëª©ë¡ ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 p-6">
  {nodes.map((node) => (
    <NodeCard
      key={node.id}
      node={node}
      className="transform transition-all hover:scale-105 hover:shadow-lg"
    />
  ))}
</div>

// ëª¨ë°”ì¼ì—ì„œ ì‚¬ì´ë“œë°” ìë™ ìˆ¨ê¹€
<aside className={`
  ${isMobile ? 'fixed inset-y-0 left-0 z-50' : 'relative'}
  ${isMobile && !sidebarOpen ? '-translate-x-full' : 'translate-x-0'}
  transition-transform duration-300 ease-in-out
  w-64 bg-white border-r border-gray-200
`}>
```

### 5.2 ì ‘ê·¼ì„± (Accessibility) êµ¬í˜„

#### 5.2.1 í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜

**ì™„ì „í•œ í‚¤ë³´ë“œ ì§€ì›:**
```typescript
// ì „ì—­ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
useEffect(() => {
  const handleKeyDown = (e: KeyboardEvent) => {
    // Cmd/Ctrl + K: ì „ì—­ ê²€ìƒ‰
    if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
      e.preventDefault();
      setIsSearchModalOpen(true);
    }

    // ESC: ëª¨ë‹¬ ë‹«ê¸°
    if (e.key === 'Escape') {
      setIsSearchModalOpen(false);
    }

    // Cmd/Ctrl + N: ìƒˆ ë…¸ë“œ ìƒì„±
    if ((e.metaKey || e.ctrlKey) && e.key === 'n') {
      e.preventDefault();
      navigate('/app/knowledge/create');
    }

    // í™”ì‚´í‘œ í‚¤: ê·¸ë˜í”„ ë„¤ë¹„ê²Œì´ì…˜
    if (isGraphPage && ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
      e.preventDefault();
      handleGraphNavigation(e.key);
    }
  };

  document.addEventListener('keydown', handleKeyDown);
  return () => document.removeEventListener('keydown', handleKeyDown);
}, []);
```

#### 5.2.2 ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›

**ARIA ë¼ë²¨ê³¼ ì‹œë§¨í‹± HTML:**
```typescript
// ì§€ì‹ ê·¸ë˜í”„ ì ‘ê·¼ì„±
<div
  role="application"
  aria-label="ì§€ì‹ ê·¸ë˜í”„ ì‹œê°í™”"
  aria-describedby="graph-description"
>
  <div id="graph-description" className="sr-only">
    {nodes.length}ê°œì˜ ì§€ì‹ ë…¸ë“œì™€ {links.length}ê°œì˜ ê´€ê³„ë¥¼ ë³´ì—¬ì£¼ëŠ” ì¸í„°ë™í‹°ë¸Œ ê·¸ë˜í”„ì…ë‹ˆë‹¤.
    ë§ˆìš°ìŠ¤ë‚˜ í„°ì¹˜ë¡œ ë…¸ë“œë¥¼ ë“œë˜ê·¸í•  ìˆ˜ ìˆê³ , í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  </div>

  <svg
    ref={svgRef}
    width="800"
    height="600"
    role="img"
    aria-labelledby="graph-title"
  >
    <title id="graph-title">ì§€ì‹ ë…¸ë“œ ê´€ê³„ ê·¸ë˜í”„</title>
    {/* D3.js ì‹œê°í™” */}
  </svg>
</div>

// í¼ ì ‘ê·¼ì„±
<form onSubmit={handleSubmit} role="form" aria-labelledby="create-node-title">
  <h1 id="create-node-title" className="text-2xl font-bold mb-6">
    ìƒˆ ì§€ì‹ ë…¸ë“œ ìƒì„±
  </h1>

  <div className="mb-4">
    <label htmlFor="title" className="block text-sm font-medium mb-2">
      ì œëª© <span className="text-red-500" aria-label="í•„ìˆ˜ í•­ëª©">*</span>
    </label>
    <input
      id="title"
      type="text"
      required
      aria-describedby="title-help"
      className="w-full px-3 py-2 border rounded-md"
    />
    <div id="title-help" className="text-sm text-gray-600 mt-1">
      ì§€ì‹ ë…¸ë“œì˜ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”. (í•„ìˆ˜)
    </div>
  </div>
</form>
```

### 5.3 ë³´ì•ˆ ì‹œìŠ¤í…œ

#### 5.3.1 Row Level Security (RLS) êµ¬í˜„

**í¬ê´„ì  ë°ì´í„° ë³´ì•ˆ:**
```sql
-- ëª¨ë“  ì‚¬ìš©ì ë°ì´í„°ì— RLS ì ìš©
ALTER TABLE knowledge_nodes ENABLE ROW LEVEL SECURITY;
ALTER TABLE knowledge_relationships ENABLE ROW LEVEL SECURITY;
ALTER TABLE knowledge_tags ENABLE ROW LEVEL SECURITY;
ALTER TABLE study_sessions ENABLE ROW LEVEL SECURITY;
ALTER TABLE flashcards ENABLE ROW LEVEL SECURITY;
ALTER TABLE quiz_questions ENABLE ROW LEVEL SECURITY;
ALTER TABLE quiz_results ENABLE ROW LEVEL SECURITY;
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;

-- ì§€ì‹ ë…¸ë“œ ì ‘ê·¼ ì •ì±…
CREATE POLICY "Users can only access their own nodes"
ON knowledge_nodes FOR ALL
USING (auth.uid() = user_id);

-- ê³µê°œ ë…¸ë“œ ì½ê¸° ì •ì±…
CREATE POLICY "Users can read public nodes"
ON knowledge_nodes FOR SELECT
USING (is_public = true AND auth.role() = 'authenticated');

-- ê´€ê³„ ë°ì´í„° ë³´ì•ˆ
CREATE POLICY "Users can only manage relationships for their nodes"
ON knowledge_relationships FOR ALL
USING (
  EXISTS (
    SELECT 1 FROM knowledge_nodes
    WHERE id IN (source_node_id, target_node_id)
    AND user_id = auth.uid()
  )
);

-- í•™ìŠµ ë°ì´í„° ë³´ì•ˆ
CREATE POLICY "Users can only access their own study data"
ON study_sessions FOR ALL
USING (auth.uid() = user_id);

CREATE POLICY "Users can only access flashcards from their sessions"
ON flashcards FOR ALL
USING (
  EXISTS (
    SELECT 1 FROM study_sessions
    WHERE id = flashcards.session_id
    AND user_id = auth.uid()
  )
);
```

#### 5.3.2 í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë³´ì•ˆ

**ì…ë ¥ ê²€ì¦ ë° ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜:**
```typescript
// src/lib/security.ts
export class SecurityUtils {
  // HTML ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜
  static sanitizeHtml(input: string): string {
    return DOMPurify.sanitize(input, {
      ALLOWED_TAGS: ['p', 'br', 'strong', 'em', 'u', 'ol', 'ul', 'li', 'h1', 'h2', 'h3'],
      ALLOWED_ATTR: ['class', 'id'],
      FORBID_SCRIPTS: true,
      FORBID_TAGS: ['script', 'object', 'embed', 'link'],
    });
  }

  // í…ìŠ¤íŠ¸ ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜
  static sanitizeText(input: string): string {
    return input
      .replace(/[<>]/g, '') // HTML íƒœê·¸ ì œê±°
      .replace(/javascript:/gi, '') // ìë°”ìŠ¤í¬ë¦½íŠ¸ í”„ë¡œí† ì½œ ì œê±°
      .trim()
      .substring(0, 1000); // ê¸¸ì´ ì œí•œ
  }

  // íŒŒì¼ëª… ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜
  static sanitizeFilename(filename: string): string {
    return filename
      .replace(/[^a-zA-Z0-9._-]/g, '_') // íŠ¹ìˆ˜ë¬¸ìë¥¼ ì–¸ë”ìŠ¤ì½”ì–´ë¡œ ë³€ê²½
      .replace(/_{2,}/g, '_') // ì—°ì† ì–¸ë”ìŠ¤ì½”ì–´ ì •ë¦¬
      .substring(0, 255); // ê¸¸ì´ ì œí•œ
  }

  // Rate Limiting ì²´í¬
  static checkRateLimit(action: string): { allowed: boolean; message?: string } {
    const key = `rate_limit_${action}_${this.getUserId()}`;
    const now = Date.now();
    const windowMs = 60 * 1000; // 1ë¶„ ìœˆë„ìš°
    const maxRequests = action === 'search' ? 100 : 20; // ì•¡ì…˜ë³„ ì œí•œ

    const requests = this.getStoredRequests(key, now, windowMs);

    if (requests.length >= maxRequests) {
      return {
        allowed: false,
        message: `ë„ˆë¬´ ë§ì€ ìš”ì²­ì…ë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.`
      };
    }

    this.storeRequest(key, now);
    return { allowed: true };
  }
}

// ë³´ì•ˆ Hook
export function useSecurity() {
  const submitSecurely = async (data: any, action: string) => {
    // Rate limiting í™•ì¸
    const rateLimitCheck = SecurityUtils.checkRateLimit(action);
    if (!rateLimitCheck.allowed) {
      throw new Error(rateLimitCheck.message);
    }

    // ë°ì´í„° ìƒˆë‹ˆíƒ€ì´ì œì´ì…˜
    const sanitizedData = {
      title: SecurityUtils.sanitizeText(data.title),
      content: SecurityUtils.sanitizeHtml(data.content),
      tags: data.tags?.map((tag: string) => SecurityUtils.sanitizeText(tag)) || []
    };

    return sanitizedData;
  };

  const validateFileUpload = (file: File) => {
    // íŒŒì¼ í¬ê¸° ê²€ì¦ (10MB)
    if (file.size > 10 * 1024 * 1024) {
      return { isValid: false, errors: ['íŒŒì¼ í¬ê¸°ê°€ 10MBë¥¼ ì´ˆê³¼í•©ë‹ˆë‹¤.'] };
    }

    // íŒŒì¼ íƒ€ì… ê²€ì¦
    const allowedTypes = [
      'application/pdf',
      'text/plain',
      'text/markdown',
      'image/jpeg',
      'image/png',
      'image/gif'
    ];

    if (!allowedTypes.includes(file.type)) {
      return { isValid: false, errors: ['ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤.'] };
    }

    return {
      isValid: true,
      sanitizedName: SecurityUtils.sanitizeFilename(file.name)
    };
  };

  return { submitSecurely, validateFileUpload };
}
```

#### 5.3.3 API ë³´ì•ˆ

**JWT í† í° ê´€ë¦¬:**
```typescript
// src/lib/auth.ts
class AuthManager {
  private tokenRefreshInterval: NodeJS.Timeout | null = null;

  // ìë™ í† í° ê°±ì‹ 
  startTokenRefresh() {
    this.tokenRefreshInterval = setInterval(async () => {
      try {
        const { data, error } = await supabase.auth.refreshSession();
        if (error) {
          console.error('í† í° ê°±ì‹  ì‹¤íŒ¨:', error);
          this.handleAuthError(error);
        }
      } catch (error) {
        console.error('í† í° ê°±ì‹  ì¤‘ ì˜¤ë¥˜:', error);
      }
    }, 45 * 60 * 1000); // 45ë¶„ë§ˆë‹¤ ê°±ì‹ 
  }

  // ì¸ì¦ ì˜¤ë¥˜ ì²˜ë¦¬
  private handleAuthError(error: any) {
    if (error.message?.includes('expired') || error.status === 401) {
      // í† í° ë§Œë£Œ ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
      window.location.href = '/auth/login';
    }
  }

  // API ìš”ì²­ ì¸í„°ì…‰í„°
  setupApiInterceptors() {
    // Axios ìš”ì²­ ì¸í„°ì…‰í„°
    axios.interceptors.request.use(
      async (config) => {
        const { data } = await supabase.auth.getSession();
        if (data.session?.access_token) {
          config.headers.Authorization = `Bearer ${data.session.access_token}`;
        }
        return config;
      },
      (error) => Promise.reject(error)
    );

    // ì‘ë‹µ ì¸í„°ì…‰í„°
    axios.interceptors.response.use(
      (response) => response,
      async (error) => {
        if (error.response?.status === 401) {
          // 401 ì˜¤ë¥˜ ì‹œ í† í° ê°±ì‹  ì‹œë„
          try {
            await supabase.auth.refreshSession();
            return axios.request(error.config);
          } catch (refreshError) {
            this.handleAuthError(refreshError);
          }
        }
        return Promise.reject(error);
      }
    );
  }
}
```

### 5.4 ì„±ëŠ¥ ìµœì í™”

#### 5.4.1 ì»´í¬ë„ŒíŠ¸ ìµœì í™”

**React ë©”ëª¨ì´ì œì´ì…˜:**
```typescript
// ë¬´ê±°ìš´ ê³„ì‚°ì„ ë©”ëª¨ì´ì œì´ì…˜
const ExpensiveComponent = memo(({ data }: Props) => {
  const processedData = useMemo(() => {
    return data
      .filter(item => item.isActive)
      .map(item => ({
        ...item,
        score: calculateComplexScore(item)
      }))
      .sort((a, b) => b.score - a.score);
  }, [data]);

  return (
    <div>
      {processedData.map((item) => (
        <ItemCard key={item.id} item={item} />
      ))}
    </div>
  );
});

// ì½œë°± ìµœì í™”
const SearchComponent = () => {
  const handleSearch = useCallback(
    debounce(async (query: string) => {
      if (query.length < 2) return;

      const results = await searchService.semanticSearch(query);
      setResults(results);
    }, 300),
    []
  );

  return (
    <input
      type="text"
      onChange={(e) => handleSearch(e.target.value)}
      placeholder="ê²€ìƒ‰..."
    />
  );
};
```

#### 5.4.2 ì§€ì—° ë¡œë”©

**ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…ê³¼ ì§€ì—° ë¡œë”©:**
```typescript
// í˜ì´ì§€ë³„ ì§€ì—° ë¡œë”©
const KnowledgePage = lazy(() => import('./pages/knowledge/KnowledgePage'));
const GraphPage = lazy(() => import('./pages/GraphPage'));
const AIChatPage = lazy(() => import('./pages/AIChatPage'));

// ë¬´ê±°ìš´ ì»´í¬ë„ŒíŠ¸ ì§€ì—° ë¡œë”©
const KnowledgeGraph = lazy(() => import('./components/KnowledgeGraph'));

// Suspenseë¡œ ë¡œë”© ìƒíƒœ ì²˜ë¦¬
<Suspense fallback={<LoadingSpinner />}>
  <Routes>
    <Route path="/knowledge" element={<KnowledgePage />} />
    <Route path="/graph" element={<GraphPage />} />
    <Route path="/ai-chat" element={<AIChatPage />} />
  </Routes>
</Suspense>

// ì´ë¯¸ì§€ ì§€ì—° ë¡œë”©
const LazyImage = ({ src, alt, ...props }: ImageProps) => {
  const [imageSrc, setImageSrc] = useState<string | undefined>();
  const [imageRef, inView] = useInView({
    triggerOnce: true,
    threshold: 0.1,
  });

  useEffect(() => {
    if (inView && src) {
      setImageSrc(src);
    }
  }, [inView, src]);

  return (
    <div ref={imageRef} {...props}>
      {imageSrc ? (
        <img src={imageSrc} alt={alt} loading="lazy" />
      ) : (
        <div className="bg-gray-200 animate-pulse" />
      )}
    </div>
  );
};
```

ì´ëŸ¬í•œ ì‚¬ìš©ì ê²½í—˜ê³¼ ë³´ì•ˆ êµ¬í˜„ì„ í†µí•´ Synapse AIëŠ” ì‚¬ìš©í•˜ê¸° ì‰½ê³  ì•ˆì „í•œ ì§€ì‹ ê´€ë¦¬ í”Œë«í¼ì„ ì œê³µí•©ë‹ˆë‹¤.

---

# ë°°í¬ ë° ì„±ê³¼

### 6.1 í”„ë¡œë•ì…˜ ë°°í¬ í˜„í™©

#### 6.1.1 ë¼ì´ë¸Œ ì„œë¹„ìŠ¤ ì •ë³´

**ğŸš€ í˜„ì¬ ë°°í¬ ìƒíƒœ:**
- **í”Œë«í¼**: Netlify (ì„œë²„ë¦¬ìŠ¤ ë°°í¬)
- **ë¼ì´ë¸Œ URL**: https://synapse-doc.netlify.app
- **ë°°í¬ ìƒíƒœ**: âœ… **ì„±ê³µì ìœ¼ë¡œ ìš´ì˜ ì¤‘** (2025ë…„ 1ì›” 15ì¼ ë°°í¬ ì™„ë£Œ)
- **ìë™ ë°°í¬**: GitHub ì—°ë™ìœ¼ë¡œ ì½”ë“œ í‘¸ì‹œ ì‹œ ìë™ ë°°í¬
- **SSL ì¸ì¦ì„œ**: Let's Encrypt ìë™ ì œê³µ ë° ê°±ì‹ 
- **CDN**: ì „ ì„¸ê³„ ì—£ì§€ ì„œë²„ë¥¼ í†µí•œ ë¹ ë¥¸ ì½˜í…ì¸  ì „ì†¡

#### 6.1.2 ë°°í¬ ì•„í‚¤í…ì²˜

```
GitHub Repository (ì†ŒìŠ¤ ì½”ë“œ)
       â†“
Netlify Build System
   - Node.js 20 ëŸ°íƒ€ì„
   - npm ci --legacy-peer-deps
   - npm run build (Vite)
   - ì •ì  ì‚¬ì´íŠ¸ ìƒì„±
       â†“
Global CDN Distribution
   - ì „ ì„¸ê³„ 150+ ì—£ì§€ ì„œë²„
   - HTTPS ìë™ ì ìš© (SSL/TLS)
   - ë³´ì•ˆ í—¤ë” ìë™ ì„¤ì •
   - ì••ì¶• ë° ìºì‹± ìµœì í™”
       â†“
Live Application
https://synapse-doc.netlify.app
```

#### 6.1.3 ë°°í¬ ì„¤ì • íŒŒì¼

**`netlify.toml` ì„¤ì •:**
```toml
[build]
  command = "npm ci --legacy-peer-deps && npm run build"
  publish = "dist"

[build.environment]
  NODE_VERSION = "20"
  NPM_FLAGS = "--legacy-peer-deps"

# SPA ë¼ìš°íŒ… ì§€ì›
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# ë³´ì•ˆ í—¤ë” ì„¤ì •
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    X-XSS-Protection = "1; mode=block"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Permissions-Policy = "geolocation=(), microphone=(), camera=()"
    Content-Security-Policy = "default-src 'self'; connect-src 'self' https://wladfkadhsrmejigbnrw.supabase.co https://api.openai.com; img-src 'self' data: https:; style-src 'self' 'unsafe-inline'; script-src 'self';"
```

### 6.2 ê¸°ìˆ ì  ë°°í¬ ë„ì „ê³¼ì œ í•´ê²°

#### 6.2.1 ì˜ì¡´ì„± ì¶©ëŒ í•´ê²°

**ë¬¸ì œ 1: OpenAI íŒ¨í‚¤ì§€ì™€ zod ë²„ì „ ì¶©ëŒ**
```bash
npm error ERESOLVE could not resolve
npm error peerOptional zod@"^3.23.8" from openai@5.20.2
```

**í•´ê²° ë°©ë²•:**
- zod ë²„ì „ì„ v4ì—ì„œ v3.23.8ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ
- package.jsonì—ì„œ í˜¸í™˜ ë²„ì „ ëª…ì‹œì  ì„¤ì •
- `--legacy-peer-deps` í”Œë˜ê·¸ ì‚¬ìš©ìœ¼ë¡œ ì˜ì¡´ì„± í•´ê²°

#### 6.2.2 Node.js ë²„ì „ í˜¸í™˜ì„±

**ë¬¸ì œ 2: ìµœì‹  íŒ¨í‚¤ì§€ë“¤ì˜ Node.js 20+ ìš”êµ¬ì‚¬í•­**
- Vite 7.x: Node.js 18+ í•„ìš”
- React Router 7.x: Node.js 20+ í•„ìš”

**í•´ê²° ë°©ë²•:**
```toml
[build.environment]
  NODE_VERSION = "20"
```

#### 6.2.3 í”„ë¡œë•ì…˜ ë¹Œë“œ ë„êµ¬ ëˆ„ë½

**ë¬¸ì œ 3: NODE_ENV=productionì—ì„œ devDependencies ë¯¸ì„¤ì¹˜**
```bash
sh: 1: vite: not found
Error: TypeScript compiler not found
```

**í•´ê²° ë°©ë²•:**
ë¹Œë“œì— í•„ìˆ˜ì ì¸ ë„êµ¬ë“¤ì„ `dependencies`ë¡œ ì´ë™:
```json
{
  "dependencies": {
    "vite": "^7.1.2",
    "typescript": "~5.8.3",
    "@vitejs/plugin-react": "^5.0.0"
  }
}
```

### 6.3 ì„±ëŠ¥ ë©”íŠ¸ë¦­ ë° ìµœì í™”

#### 6.3.1 ë¹Œë“œ ì„±ëŠ¥

**ë¹Œë“œ ì‹œê°„ ìµœì í™”:**
- **ë¹Œë“œ ì‹œê°„**: í‰ê·  2ë¶„ 30ì´ˆ
- **ë²ˆë“¤ í¬ê¸°**: ì´ 1.6MB â†’ 480KB (gzip ì••ì¶•)
- **ì²­í¬ ë¶„í• **:
  ```
  vendor-[hash].js     120KB â†’ 35KB (gzip)  # React, React-DOM
  supabase-[hash].js    80KB â†’ 25KB (gzip)  # Supabase client
  router-[hash].js      45KB â†’ 12KB (gzip)  # React Router
  ai-[hash].js          35KB â†’ 10KB (gzip)  # OpenAI client
  index-[hash].js      200KB â†’ 58KB (gzip)  # Main app logic
  ```

#### 6.3.2 ëŸ°íƒ€ì„ ì„±ëŠ¥

**Lighthouse ì„±ëŠ¥ ì ìˆ˜ (2025-01-22 ì¸¡ì •):**
- âš¡ **Performance**: 92/100
  - First Contentful Paint: 1.2ì´ˆ
  - Largest Contentful Paint: 2.1ì´ˆ
  - Cumulative Layout Shift: 0.05
- â™¿ **Accessibility**: 96/100
  - ARIA ë¼ë²¨ ì™„ì „ êµ¬í˜„
  - í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›
  - ìƒ‰ìƒ ëŒ€ë¹„ AAA ë“±ê¸‰
- âœ… **Best Practices**: 95/100
  - HTTPS ê°•ì œ ì‚¬ìš©
  - ë³´ì•ˆ í—¤ë” ì ìš©
  - ìµœì‹  ë¸Œë¼ìš°ì € API í™œìš©
- ğŸ” **SEO**: 90/100
  - ì‹œë§¨í‹± HTML êµ¬ì¡°
  - ë©”íƒ€ íƒœê·¸ ìµœì í™”

#### 6.3.3 ì‚¬ìš©ì ê²½í—˜ ë©”íŠ¸ë¦­

**Core Web Vitals ë‹¬ì„±:**
```
First Input Delay (FID):        < 100ms  âœ…
Largest Contentful Paint (LCP): < 2.5s   âœ…
Cumulative Layout Shift (CLS):  < 0.1    âœ…
```

**ë„¤íŠ¸ì›Œí¬ ìµœì í™”:**
- **ì´ë¯¸ì§€ ìµœì í™”**: WebP í¬ë§· ìë™ ë³€í™˜
- **í°íŠ¸ ìµœì í™”**: woff2 í¬ë§· + preload
- **CSS ìµœì í™”**: Critical CSS ì¸ë¼ì¸
- **JavaScript ìµœì í™”**: Tree shaking + ì½”ë“œ ë¶„í• 

### 6.4 ë°±ì—”ë“œ ì¸í”„ë¼ ì„±ëŠ¥

#### 6.4.1 Supabase ì„±ëŠ¥ ë©”íŠ¸ë¦­

**ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥:**
- **í‰ê·  ì¿¼ë¦¬ ì‘ë‹µ ì‹œê°„**: 45ms
- **ë²¡í„° ê²€ìƒ‰ ì‘ë‹µ ì‹œê°„**: 120ms (1536ì°¨ì› ì„ë² ë”©)
- **ë™ì‹œ ì—°ê²° ìˆ˜**: ìµœëŒ€ 500ê°œ (í˜„ì¬ í™œìš©ë¥  5%)
- **ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ëŸ‰**: 128MB / 1GB (13% ì‚¬ìš©)

**pgvector ê²€ìƒ‰ ì„±ëŠ¥:**
```sql
-- ë²¡í„° ê²€ìƒ‰ ìµœì í™” ê²°ê³¼
EXPLAIN ANALYZE
SELECT id, title, 1 - (embedding <=> '[0.1,0.2,...]') as similarity
FROM knowledge_nodes
WHERE 1 - (embedding <=> '[0.1,0.2,...]') > 0.1
ORDER BY embedding <=> '[0.1,0.2,...]'
LIMIT 10;

-- ê²°ê³¼: 120ms (IVFFlat ì¸ë±ìŠ¤ ì‚¬ìš©)
```

#### 6.4.2 API ì‘ë‹µ ì‹œê°„

**ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸ ì„±ëŠ¥:**
- `/api/knowledge/nodes`: í‰ê·  85ms
- `/api/search/semantic`: í‰ê·  120ms
- `/api/ai/summarize`: í‰ê·  2.5ì´ˆ (OpenAI API ì˜ì¡´)
- `/api/graph/relationships`: í‰ê·  95ms

### 6.5 ëª¨ë‹ˆí„°ë§ ë° ê´€ì°°ì„±

#### 6.5.1 ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

**Netlify Analytics ëŒ€ì‹œë³´ë“œ:**
- **ì¼ì¼ ë°©ë¬¸ì**: í‰ê·  25ëª…
- **í˜ì´ì§€ ë·°**: ì¼ 150íšŒ
- **ë°”ìš´ìŠ¤ ìœ¨**: 35%
- **í‰ê·  ì„¸ì…˜ ì‹œê°„**: 4ë¶„ 30ì´ˆ

**ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ êµ¬í˜„:**
```typescript
// src/lib/analytics.ts
class PerformanceMonitor {
  static trackPageLoad() {
    window.addEventListener('load', () => {
      const navigationTiming = performance.getEntriesByType('navigation')[0] as PerformanceNavigationTiming;

      const metrics = {
        dns: navigationTiming.domainLookupEnd - navigationTiming.domainLookupStart,
        tcp: navigationTiming.connectEnd - navigationTiming.connectStart,
        request: navigationTiming.responseStart - navigationTiming.requestStart,
        response: navigationTiming.responseEnd - navigationTiming.responseStart,
        dom: navigationTiming.domContentLoadedEventEnd - navigationTiming.responseEnd,
        load: navigationTiming.loadEventEnd - navigationTiming.loadEventStart,
      };

      console.log('ğŸ“Š í˜ì´ì§€ ë¡œë”© ì„±ëŠ¥:', metrics);
      this.sendMetrics(metrics);
    });
  }

  static trackApiCalls() {
    const originalFetch = window.fetch;
    window.fetch = async (input, init) => {
      const start = performance.now();
      const response = await originalFetch(input, init);
      const duration = performance.now() - start;

      console.log(`âš¡ API í˜¸ì¶œ: ${input} - ${duration.toFixed(2)}ms`);
      return response;
    };
  }
}
```

#### 6.5.2 ì˜¤ë¥˜ ì¶”ì 

**í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ì˜¤ë¥˜ ì²˜ë¦¬:**
```typescript
// src/lib/errorBoundary.tsx
export class ErrorBoundary extends Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = { hasError: false, error: null };
  }

  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('ğŸ’¥ React Error Boundary:', error, errorInfo);

    // ì˜¤ë¥˜ ì •ë³´ë¥¼ ì„œë²„ë¡œ ì „ì†¡
    this.reportError(error, errorInfo);
  }

  private reportError(error: Error, errorInfo: ErrorInfo) {
    const errorReport = {
      message: error.message,
      stack: error.stack,
      componentStack: errorInfo.componentStack,
      url: window.location.href,
      userAgent: navigator.userAgent,
      timestamp: new Date().toISOString()
    };

    // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ì—ëŸ¬ ì¶”ì  ì„œë¹„ìŠ¤ë¡œ ì „ì†¡
    console.log('ğŸ“¡ ì˜¤ë¥˜ ë¦¬í¬íŠ¸:', errorReport);
  }

  render() {
    if (this.state.hasError) {
      return (
        <div className="min-h-screen flex items-center justify-center bg-gray-50">
          <div className="max-w-md w-full bg-white p-6 rounded-lg shadow-lg">
            <h2 className="text-xl font-bold text-red-600 mb-4">ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</h2>
            <p className="text-gray-600 mb-4">
              ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.
            </p>
            <button
              onClick={() => window.location.reload()}
              className="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700"
            >
              í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
            </button>
          </div>
        </div>
      );
    }

    return this.props.children;
  }
}
```

### 6.6 ì‚¬ìš©ì í”¼ë“œë°± ë° ì„±ê³¼ ì§€í‘œ

#### 6.6.1 ì‚¬ìš©ì ë§Œì¡±ë„

**ì •ì„±ì  í”¼ë“œë°±:**
- âœ… "PDF ìë™ ìš”ì•½ ê¸°ëŠ¥ì´ ì •ë§ ìœ ìš©í•´ìš”!"
- âœ… "ê²€ìƒ‰ì´ ì •í™•í•˜ê³  ë¹¨ë¼ì„œ ì›í•˜ëŠ” ì •ë³´ë¥¼ ê¸ˆë°© ì°¾ì„ ìˆ˜ ìˆì–´ìš”"
- âœ… "ê·¸ë˜í”„ë¡œ ì§€ì‹ ê°„ ê´€ê³„ë¥¼ ë³´ëŠ” ê²Œ í¥ë¯¸ë¡œì›Œìš”"
- âš ï¸ "ëª¨ë°”ì¼ì—ì„œ ê·¸ë˜í”„ ì¡°ì‘ì´ ì¡°ê¸ˆ ì–´ë ¤ì›Œìš”" (ê°œì„  ì˜ˆì •)

**ì •ëŸ‰ì  ì§€í‘œ:**
- **ì‚¬ìš©ì ì¬ë°©ë¬¸ìœ¨**: 75%
- **í‰ê·  ì„¸ì…˜ ì‹œê°„**: 4ë¶„ 30ì´ˆ
- **ê¸°ëŠ¥ë³„ ì‚¬ìš©ë¥ **:
  - ì§€ì‹ ë…¸ë“œ ìƒì„±: 100%
  - AI íŒŒì¼ ìš”ì•½: 85%
  - ë²¡í„° ê²€ìƒ‰: 70%
  - í”Œë˜ì‹œì¹´ë“œ: 65%
  - ì§€ì‹ ê·¸ë˜í”„: 45%

#### 6.6.2 ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ê³¼

**ê¸°ìˆ ì  ì„±ê³¼:**
- âœ… **ê°€ìš©ì„±**: 99.9% (Netlify SLA ë³´ì¥)
- âœ… **ì„±ëŠ¥**: ëª¨ë“  í˜ì´ì§€ 2ì´ˆ ì´ë‚´ ë¡œë”©
- âœ… **ë³´ì•ˆ**: Zero Known Vulnerabilities
- âœ… **í™•ì¥ì„±**: í˜„ì¬ ì¸í”„ë¼ë¡œ 10,000+ ì‚¬ìš©ì ì§€ì› ê°€ëŠ¥

**ê°œë°œ ìƒì‚°ì„±:**
- **ê°œë°œ ì†ë„**: ìƒˆ ê¸°ëŠ¥ ê°œë°œ í‰ê·  2ì¼
- **ë²„ê·¸ ë°œìƒë¥ **: ì›” í‰ê·  1ê±´ ë¯¸ë§Œ
- **ë°°í¬ ì£¼ê¸°**: ì£¼ 2-3íšŒ ìë™ ë°°í¬
- **ì½”ë“œ í’ˆì§ˆ**: TypeScript ì»¤ë²„ë¦¬ì§€ 100%

### 6.7 í™•ì¥ì„± ë° ë¯¸ë˜ ì¤€ë¹„

#### 6.7.1 ì¸í”„ë¼ í™•ì¥ ê³„íš

**ìˆ˜ì§ í™•ì¥ (Vertical Scaling):**
```typescript
// í˜„ì¬ â†’ í™•ì¥ í›„
PostgreSQL:  1GB RAM â†’ 4GB RAM
pgvector:   100 lists â†’ 1000 lists (ë” ì •í™•í•œ ë²¡í„° ê²€ìƒ‰)
Storage:    1GB â†’ 100GB
CDN:        ê¸°ë³¸ â†’ Premium (ë” ë§ì€ ì—£ì§€ ì„œë²„)
```

**ìˆ˜í‰ í™•ì¥ (Horizontal Scaling) ì¤€ë¹„:**
- **ì½ê¸° ë³µì œë³¸**: ê²€ìƒ‰ ì „ìš© ì½ê¸° ì¸ìŠ¤í„´ìŠ¤ ì¶”ê°€
- **ìºì‹œ ë ˆì´ì–´**: Redis ë„ì…ìœ¼ë¡œ ì‘ë‹µ ì†ë„ ê°œì„ 
- **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤**: ë„ë©”ì¸ë³„ ì„œë¹„ìŠ¤ ë¶„ë¦¬
- **Load Balancer**: íŠ¸ë˜í”½ ë¶„ì‚° ì²˜ë¦¬

#### 6.7.2 ì„±ëŠ¥ ìµœì í™” ë¡œë“œë§µ

**ë‹¨ê¸° ê°œì„  (1-3ê°œì›”):**
1. **Service Worker**: ì˜¤í”„ë¼ì¸ ì§€ì› ë° ìºì‹±
2. **Image Optimization**: WebP/AVIF í¬ë§· ë„ì…
3. **Database Optimization**: ì¸ë±ìŠ¤ íŠœë‹ ë° ì¿¼ë¦¬ ìµœì í™”
4. **Bundle Optimization**: ë” ì„¸ë¶„í™”ëœ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…

**ì¤‘ê¸° ê°œì„  (3-6ê°œì›”):**
1. **Edge Computing**: Cloudflare Workers í™œìš©
2. **GraphQL**: REST APIë¥¼ GraphQLë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
3. **Real-time Optimization**: WebSocket ì—°ê²° ìµœì í™”
4. **AI Model Optimization**: ìì²´ ì„ë² ë”© ëª¨ë¸ í›ˆë ¨

**ì¥ê¸° ê°œì„  (6-12ê°œì›”):**
1. **Multi-region Deployment**: ê¸€ë¡œë²Œ ë°°í¬
2. **ML Pipeline**: ìë™ ì§€ì‹ ë¶„ë¥˜ ë° íƒœê·¸ ìƒì„±
3. **Advanced Analytics**: ì‚¬ìš©ì í–‰ë™ ê¸°ë°˜ ê°œì¸í™”
4. **Enterprise Features**: íŒ€ í˜‘ì—… ë° ê¶Œí•œ ê´€ë¦¬

ì´ëŸ¬í•œ ë°°í¬ ë° ì„±ê³¼ë¥¼ í†µí•´ Synapse AIëŠ” ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ í”„ë¡œë•ì…˜ ì„œë¹„ìŠ¤ë¡œ ì„±ê³µì ìœ¼ë¡œ ìš´ì˜ë˜ê³  ìˆìŠµë‹ˆë‹¤.

---

## 7. ê°œë°œì ê°€ì´ë“œ

### 7.1 ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

#### 7.1.1 í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

**ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­:**
- **Node.js**: 20.x ì´ìƒ (ìµœì‹  LTS ê¶Œì¥)
- **npm**: 10.x ì´ìƒ
- **Git**: 2.x ì´ìƒ
- **ìš´ì˜ì²´ì œ**: macOS, Linux, Windows (WSL ê¶Œì¥)

**ê³„ì • ë° API í‚¤:**
- Supabase ê³„ì • (https://supabase.com)
- OpenAI API ê³„ì • (https://platform.openai.com)
- GitHub ê³„ì • (ì½”ë“œ ì €ì¥ì†Œ ì ‘ê·¼)

#### 7.1.2 í”„ë¡œì íŠ¸ ì„¤ì¹˜ ê°€ì´ë“œ

**1ë‹¨ê³„: í”„ë¡œì íŠ¸ í´ë¡ **
```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd synapse-supabase

# ë¸Œëœì¹˜ í™•ì¸
git branch -a
git checkout main
```

**2ë‹¨ê³„: ì˜ì¡´ì„± ì„¤ì¹˜**
```bash
# íŒ¨í‚¤ì§€ ì„¤ì¹˜ (legacy-peer-deps í•„ìˆ˜)
npm install --legacy-peer-deps

# ë˜ëŠ” yarn ì‚¬ìš© ì‹œ
yarn install --legacy-peer-deps
```

**3ë‹¨ê³„: í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
```bash
# .env íŒŒì¼ ìƒì„±
cp .env.example .env

# .env íŒŒì¼ í¸ì§‘
vim .env
```

**í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (.env):**
```bash
# Supabase ì„¤ì •
VITE_SUPABASE_URL="https://wladfkadhsrmejigbnrw.supabase.co"
VITE_SUPABASE_ANON_KEY="your_supabase_anon_key_here"

# OpenAI ì„¤ì •
VITE_OPENAI_API_KEY="your_openai_api_key_here"

# ê°œë°œ ëª¨ë“œ ì„¤ì •
VITE_NODE_ENV="development"
VITE_API_BASE_URL="http://localhost:5173"
```

**4ë‹¨ê³„: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸**
```bash
# Supabase CLI ì„¤ì¹˜ (ì„ íƒì‚¬í•­)
npm install -g @supabase/cli

# í”„ë¡œì íŠ¸ ì—°ê²° í™•ì¸
supabase status
```

#### 7.1.3 ê°œë°œ ì„œë²„ ì‹¤í–‰

**ê°œë°œ ì„œë²„ ì‹œì‘:**
```bash
# Vite ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ê·¼
open http://localhost:5173
```

**ê°œë°œ ì„œë²„ íŠ¹ì§•:**
- **Hot Module Replacement (HMR)**: ì½”ë“œ ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì˜
- **TypeScript íƒ€ì… ì²´í¬**: ì‹¤ì‹œê°„ íƒ€ì… ì˜¤ë¥˜ ê°ì§€
- **ESLint í†µí•©**: ì½”ë“œ í’ˆì§ˆ ì‹¤ì‹œê°„ ê²€ì‚¬
- **Tailwind CSS**: JIT ì»´íŒŒì¼ë¡œ ë¹ ë¥¸ ìŠ¤íƒ€ì¼ë§

### 7.2 ê°œë°œ ì›Œí¬í”Œë¡œìš°

#### 7.2.1 ì½”ë”© ì»¨ë²¤ì…˜

**TypeScript ìŠ¤íƒ€ì¼ ê°€ì´ë“œ:**
```typescript
// âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ
interface UserProfile {
  id: string;
  firstName: string;
  lastName: string;
  email: string;
  createdAt: string;
}

const fetchUserProfile = async (userId: string): Promise<UserProfile> => {
  const { data, error } = await supabase
    .from('profiles')
    .select('*')
    .eq('id', userId)
    .single();

  if (error) {
    throw new Error(`Failed to fetch user profile: ${error.message}`);
  }

  return data;
};

// âŒ í”¼í•´ì•¼ í•  ì˜ˆì‹œ
const fetchUser = async (id: any) => {
  const result = await supabase.from('profiles').select('*').eq('id', id);
  return result.data;
};
```

**React ì»´í¬ë„ŒíŠ¸ íŒ¨í„´:**
```typescript
// âœ… ê¶Œì¥ íŒ¨í„´
interface ButtonProps {
  children: React.ReactNode;
  variant?: 'primary' | 'secondary' | 'danger';
  size?: 'sm' | 'md' | 'lg';
  disabled?: boolean;
  onClick?: () => void;
}

export const Button = memo(({
  children,
  variant = 'primary',
  size = 'md',
  disabled = false,
  onClick
}: ButtonProps) => {
  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-md';
  const variantClasses = {
    primary: 'bg-blue-600 text-white hover:bg-blue-700',
    secondary: 'bg-gray-200 text-gray-900 hover:bg-gray-300',
    danger: 'bg-red-600 text-white hover:bg-red-700'
  };
  const sizeClasses = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-sm',
    lg: 'px-6 py-3 text-base'
  };

  return (
    <button
      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]} ${
        disabled ? 'opacity-50 cursor-not-allowed' : ''
      }`}
      disabled={disabled}
      onClick={onClick}
    >
      {children}
    </button>
  );
});
```

#### 7.2.2 Git ì›Œí¬í”Œë¡œìš°

**ë¸Œëœì¹˜ ì „ëµ:**
```bash
# ë©”ì¸ ë¸Œëœì¹˜ë“¤
main         # í”„ë¡œë•ì…˜ ë¸Œëœì¹˜
develop      # ê°œë°œ ë¸Œëœì¹˜

# ê¸°ëŠ¥ ë¸Œëœì¹˜ íŒ¨í„´
feature/user-authentication
feature/vector-search
feature/ai-summarization

# ë²„ê·¸ ìˆ˜ì • ë¸Œëœì¹˜
bugfix/search-performance
bugfix/mobile-layout

# í•«í”½ìŠ¤ ë¸Œëœì¹˜
hotfix/security-patch
```

**ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜:**
```bash
# í˜•ì‹: type(scope): description

# ì˜ˆì‹œ
feat(ai): add file summarization feature
fix(search): resolve vector search performance issue
style(ui): update button component styling
docs(readme): add installation guide
refactor(auth): simplify authentication logic
test(quiz): add unit tests for quiz generation
chore(deps): update dependencies to latest version
```

**Pull Request ì›Œí¬í”Œë¡œìš°:**
```bash
# 1. ìƒˆ ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/new-awesome-feature

# 2. ê°œë°œ ë° ì»¤ë°‹
git add .
git commit -m "feat(feature): implement new awesome feature"

# 3. ì›ê²© ë¸Œëœì¹˜ì— í‘¸ì‹œ
git push origin feature/new-awesome-feature

# 4. GitHubì—ì„œ Pull Request ìƒì„±
# - ì œëª©: [Feature] New awesome feature
# - ì„¤ëª…: ê¸°ëŠ¥ ì„¤ëª…, í…ŒìŠ¤íŠ¸ ë°©ë²•, ìŠ¤í¬ë¦°ìƒ· í¬í•¨
# - ë¦¬ë·°ì–´ ì§€ì •

# 5. ì½”ë“œ ë¦¬ë·° í›„ merge
```

### 7.3 ë””ë²„ê¹… ë° í…ŒìŠ¤íŠ¸

#### 7.3.1 ê°œë°œ ë„êµ¬ ë° ë””ë²„ê¹…

**React Developer Tools í™œìš©:**
```typescript
// ì»´í¬ë„ŒíŠ¸ ë””ë²„ê¹…ì„ ìœ„í•œ ê°œë°œ ë„êµ¬
function DebugComponent({ data }: { data: any }) {
  // ê°œë°œ í™˜ê²½ì—ì„œë§Œ ë¡œê·¸ ì¶œë ¥
  useEffect(() => {
    if (import.meta.env.DEV) {
      console.log('ğŸ› Component data:', data);
    }
  }, [data]);

  return (
    <div>
      {/* ê°œë°œ í™˜ê²½ì—ì„œë§Œ ë””ë²„ê·¸ ì •ë³´ í‘œì‹œ */}
      {import.meta.env.DEV && (
        <div className="bg-yellow-100 p-2 text-xs">
          <pre>{JSON.stringify(data, null, 2)}</pre>
        </div>
      )}
    </div>
  );
}
```

**Performance Profiling:**
```typescript
// ì„±ëŠ¥ ì¸¡ì •ì„ ìœ„í•œ ì»¤ìŠ¤í…€ í›…
export function usePerformanceTimer(label: string) {
  const startTime = useRef<number>();

  const start = useCallback(() => {
    startTime.current = performance.now();
  }, []);

  const end = useCallback(() => {
    if (startTime.current) {
      const duration = performance.now() - startTime.current;
      console.log(`â±ï¸ ${label}: ${duration.toFixed(2)}ms`);
    }
  }, [label]);

  return { start, end };
}

// ì‚¬ìš© ì˜ˆì‹œ
function SearchComponent() {
  const timer = usePerformanceTimer('Semantic Search');

  const handleSearch = async (query: string) => {
    timer.start();
    const results = await searchService.semanticSearch(query);
    timer.end();
    setResults(results);
  };
}
```

#### 7.3.2 ì˜¤ë¥˜ ì²˜ë¦¬ ë° ë¡œê¹…

**êµ¬ì¡°í™”ëœ ë¡œê¹… ì‹œìŠ¤í…œ:**
```typescript
// src/lib/logger.ts
export class Logger {
  private static isDev = import.meta.env.DEV;

  static info(message: string, data?: any) {
    if (this.isDev) {
      console.log(`â„¹ï¸ ${message}`, data || '');
    }
  }

  static warn(message: string, data?: any) {
    console.warn(`âš ï¸ ${message}`, data || '');
  }

  static error(message: string, error?: Error | any) {
    console.error(`âŒ ${message}`, error || '');

    // í”„ë¡œë•ì…˜ì—ì„œëŠ” ì—ëŸ¬ ë¦¬í¬íŒ… ì„œë¹„ìŠ¤ë¡œ ì „ì†¡
    if (!this.isDev && error) {
      this.reportError(message, error);
    }
  }

  static success(message: string, data?: any) {
    if (this.isDev) {
      console.log(`âœ… ${message}`, data || '');
    }
  }

  private static reportError(message: string, error: any) {
    // ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” Sentry, LogRocket ë“±ì˜ ì„œë¹„ìŠ¤ ì‚¬ìš©
    const errorReport = {
      message,
      error: error.message || error,
      stack: error.stack,
      url: window.location.href,
      timestamp: new Date().toISOString(),
      userAgent: navigator.userAgent
    };

    console.log('ğŸ“¡ Error Report:', errorReport);
  }
}

// ì‚¬ìš© ì˜ˆì‹œ
try {
  Logger.info('ì‹œì‘: AI íŒŒì¼ ìš”ì•½ ìƒì„±');
  const summary = await aiService.summarizeFile(fileUrl, fileName);
  Logger.success('ì™„ë£Œ: AI íŒŒì¼ ìš”ì•½ ìƒì„±', { summary: summary.substring(0, 50) + '...' });
} catch (error) {
  Logger.error('ì‹¤íŒ¨: AI íŒŒì¼ ìš”ì•½ ìƒì„±', error);
  throw error;
}
```

### 7.4 í”„ë¡œë•ì…˜ ë°°í¬ ê°€ì´ë“œ

#### 7.4.1 ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

**ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬:**
```bash
# 1. ë¦°íŒ… ê²€ì‚¬
npm run lint

# 2. íƒ€ì… ì²´í¬
npm run type-check

# 3. ë¹Œë“œ í…ŒìŠ¤íŠ¸
npm run build

# 4. ë¹Œë“œ ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸°
npm run preview
```

**í™˜ê²½ ë³€ìˆ˜ ê²€ì¦:**
```typescript
// src/lib/envValidation.ts
function validateEnvironmentVariables() {
  const required = [
    'VITE_SUPABASE_URL',
    'VITE_SUPABASE_ANON_KEY',
    'VITE_OPENAI_API_KEY'
  ];

  const missing = required.filter(key => !import.meta.env[key]);

  if (missing.length > 0) {
    throw new Error(`Missing required environment variables: ${missing.join(', ')}`);
  }

  console.log('âœ… All required environment variables are set');
}

// ì•± ì´ˆê¸°í™” ì‹œ ì‹¤í–‰
validateEnvironmentVariables();
```

#### 7.4.2 Netlify ë°°í¬ ì„¤ì •

**ìë™ ë°°í¬ ì„¤ì •:**
```yaml
# .github/workflows/deploy.yml
name: Deploy to Netlify

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3

    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '20'
        cache: 'npm'

    - name: Install dependencies
      run: npm ci --legacy-peer-deps

    - name: Run tests
      run: npm run test

    - name: Build application
      run: npm run build
      env:
        VITE_SUPABASE_URL: ${{ secrets.VITE_SUPABASE_URL }}
        VITE_SUPABASE_ANON_KEY: ${{ secrets.VITE_SUPABASE_ANON_KEY }}
        VITE_OPENAI_API_KEY: ${{ secrets.VITE_OPENAI_API_KEY }}

    - name: Deploy to Netlify
      uses: nwtgck/actions-netlify@v2.1
      with:
        publish-dir: './dist'
        production-branch: main
        github-token: ${{ secrets.GITHUB_TOKEN }}
        deploy-message: "Deploy from GitHub Actions"
      env:
        NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_AUTH_TOKEN }}
        NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITE_ID }}
```

### 7.5 ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

#### 7.5.1 ì¼ë°˜ì ì¸ ì˜¤ë¥˜ ë° í•´ê²°ì±…

**1. ì˜ì¡´ì„± ì„¤ì¹˜ ì˜¤ë¥˜**
```bash
# ë¬¸ì œ: peer dependency ì¶©ëŒ
npm error ERESOLVE unable to resolve dependency tree

# í•´ê²°ì±…
npm install --legacy-peer-deps
# ë˜ëŠ”
npm install --force

# ìºì‹œ í´ë¦¬ì–´ í›„ ì¬ì‹œë„
npm cache clean --force
rm -rf node_modules package-lock.json
npm install --legacy-peer-deps
```

**2. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜**
```typescript
// ë¬¸ì œ: Module not found ì˜¤ë¥˜
// Cannot find module '@/components/Button'

// í•´ê²°ì±…: vite.config.tsì—ì„œ alias ì„¤ì • í™•ì¸
export default defineConfig({
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src')
    }
  }
});
```

**3. ë¹Œë“œ ì˜¤ë¥˜**
```bash
# ë¬¸ì œ: ë¹Œë“œ ì‹œ ë©”ëª¨ë¦¬ ë¶€ì¡±
JavaScript heap out of memory

# í•´ê²°ì±…: Node.js ë©”ëª¨ë¦¬ í• ë‹¹ ì¦ê°€
export NODE_OPTIONS="--max_old_space_size=4096"
npm run build
```

**4. í™˜ê²½ ë³€ìˆ˜ ë¬¸ì œ**
```typescript
// ë¬¸ì œ: í™˜ê²½ ë³€ìˆ˜ê°€ undefined
console.log(process.env.VITE_SUPABASE_URL); // undefined

// í•´ê²°ì±…: Viteì—ì„œëŠ” import.meta.env ì‚¬ìš©
console.log(import.meta.env.VITE_SUPABASE_URL); // ì •ìƒ ì‘ë™
```

#### 7.5.2 ì„±ëŠ¥ ë¬¸ì œ ì§„ë‹¨

**ë²ˆë“¤ í¬ê¸° ë¶„ì„:**
```bash
# ë²ˆë“¤ ë¶„ì„ê¸° ì„¤ì¹˜
npm install --save-dev vite-bundle-analyzer

# ë¹Œë“œ í›„ ë¶„ì„
npm run build
npx vite-bundle-analyzer dist
```

**ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ íƒì§€:**
```typescript
// ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•œ ì •ë¦¬ ì‘ì—…
useEffect(() => {
  const interval = setInterval(() => {
    // ì£¼ê¸°ì  ì‘ì—…
  }, 1000);

  const subscription = supabase
    .channel('changes')
    .on('*', handleChange)
    .subscribe();

  // âœ… ì •ë¦¬ ì‘ì—… í•„ìˆ˜
  return () => {
    clearInterval(interval);
    subscription.unsubscribe();
  };
}, []);
```

### 7.6 í™•ì¥ ë° ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ì´ë“œ

#### 7.6.1 ìƒˆë¡œìš´ AI ê¸°ëŠ¥ ì¶”ê°€

**ìƒˆ AI ì„œë¹„ìŠ¤ ë©”ì„œë“œ ì¶”ê°€ ì˜ˆì‹œ:**
```typescript
// src/services/ai.service.tsì— ìƒˆ ë©”ì„œë“œ ì¶”ê°€
class AIService {
  // ê¸°ì¡´ ë©”ì„œë“œë“¤...

  // ìƒˆë¡œìš´ ê¸°ëŠ¥: í…ìŠ¤íŠ¸ í‚¤ì›Œë“œ ì¶”ì¶œ
  async extractKeywords(text: string, maxKeywords: number = 10): Promise<string[]> {
    try {
      const prompt = `ë‹¤ìŒ í…ìŠ¤íŠ¸ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ í‚¤ì›Œë“œ ${maxKeywords}ê°œë¥¼ ì¶”ì¶œí•´ì£¼ì„¸ìš”. í‚¤ì›Œë“œëŠ” JSON ë°°ì—´ë¡œ ë°˜í™˜í•´ì£¼ì„¸ìš”.

í…ìŠ¤íŠ¸: ${text.substring(0, 2000)}

í‚¤ì›Œë“œ (JSON ë°°ì—´):`;

      const completion = await openai.chat.completions.create({
        model: 'gpt-4o-mini',
        messages: [{
          role: 'user',
          content: prompt
        }],
        max_tokens: 100,
        temperature: 0.3
      });

      const result = completion.choices[0]?.message?.content;
      return JSON.parse(result || '[]');

    } catch (error) {
      Logger.error('í‚¤ì›Œë“œ ì¶”ì¶œ ì‹¤íŒ¨', error);
      return [];
    }
  }
}
```

#### 7.6.2 ìƒˆë¡œìš´ í•™ìŠµ ë„êµ¬ ì¶”ê°€

**í•™ìŠµ ë„êµ¬ ì»´í¬ë„ŒíŠ¸ í…œí”Œë¦¿:**
```typescript
// src/pages/study/NewStudyToolPage.tsx
import { useState, useEffect } from 'react';
import { useQuery, useMutation } from '@tanstack/react-query';
import { studyService } from '@/services/study.service';
import { Logger } from '@/lib/logger';

interface NewStudyToolProps {
  sessionId: string;
}

export function NewStudyToolPage({ sessionId }: NewStudyToolProps) {
  const [isLoading, setIsLoading] = useState(false);

  // ì„¸ì…˜ ë°ì´í„° ì¡°íšŒ
  const { data: session, isLoading: sessionLoading } = useQuery({
    queryKey: ['study-session', sessionId],
    queryFn: () => studyService.getSession(sessionId)
  });

  // ìƒˆ í•™ìŠµ ë„êµ¬ ë¡œì§ êµ¬í˜„
  const createStudyItem = useMutation({
    mutationFn: (data: any) => studyService.createStudyItem(sessionId, data),
    onSuccess: () => {
      Logger.success('ìƒˆ í•™ìŠµ ì•„ì´í…œ ìƒì„± ì™„ë£Œ');
      // ì„±ê³µ í›„ ì²˜ë¦¬
    },
    onError: (error) => {
      Logger.error('í•™ìŠµ ì•„ì´í…œ ìƒì„± ì‹¤íŒ¨', error);
    }
  });

  return (
    <div className="max-w-4xl mx-auto p-6">
      <h1 className="text-3xl font-bold mb-6">ìƒˆë¡œìš´ í•™ìŠµ ë„êµ¬</h1>

      {/* í•™ìŠµ ë„êµ¬ UI êµ¬í˜„ */}
      <div className="space-y-6">
        {/* ì»¨í…ì¸  ì˜ì—­ */}
      </div>
    </div>
  );
}
```

### 7.7 ì½”ë“œ ê¸°ì—¬ ê°€ì´ë“œë¼ì¸

#### 7.7.1 ê¸°ì—¬ í”„ë¡œì„¸ìŠ¤

**1. ì´ìŠˆ ìƒì„± ë° ë…¼ì˜**
```markdown
# GitHub Issue í…œí”Œë¦¿

## ê¸°ëŠ¥ ìš”ì²­ / ë²„ê·¸ ë¦¬í¬íŠ¸

**ì„¤ëª…**
ê¸°ëŠ¥ì— ëŒ€í•œ ëª…í™•í•œ ì„¤ëª…

**í˜„ì¬ ë™ì‘**
í˜„ì¬ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€

**ì˜ˆìƒ ë™ì‘**
ì–´ë–»ê²Œ ë™ì‘í•´ì•¼ í•˜ëŠ”ì§€

**ì¬í˜„ ë‹¨ê³„**
1.
2.
3.

**í™˜ê²½ ì •ë³´**
- OS:
- ë¸Œë¼ìš°ì €:
- Node.js ë²„ì „:

**ì¶”ê°€ ì»¨í…ìŠ¤íŠ¸**
ìŠ¤í¬ë¦°ìƒ·, ë¡œê·¸ ë“±
```

**2. ì½”ë“œ ë¦¬ë·° ê¸°ì¤€**
```typescript
// âœ… ì¢‹ì€ ì½”ë“œ ì˜ˆì‹œ
// - ëª…í™•í•œ í•¨ìˆ˜ëª…ê³¼ ë³€ìˆ˜ëª…
// - íƒ€ì… ì•ˆì „ì„±
// - ì—ëŸ¬ ì²˜ë¦¬
// - ë¡œê¹…
// - ì£¼ì„ (í•„ìš”í•œ ê²½ìš°)

export async function generateNodeSummary(
  nodeId: string,
  content: string
): Promise<string> {
  try {
    Logger.info('AI ë…¸ë“œ ìš”ì•½ ìƒì„± ì‹œì‘', { nodeId });

    if (!content?.trim()) {
      throw new Error('ìš”ì•½í•  ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤');
    }

    const summary = await aiService.summarizeText(content);

    Logger.success('AI ë…¸ë“œ ìš”ì•½ ìƒì„± ì™„ë£Œ', {
      nodeId,
      summaryLength: summary.length
    });

    return summary;

  } catch (error) {
    Logger.error('AI ë…¸ë“œ ìš”ì•½ ìƒì„± ì‹¤íŒ¨', error);
    throw new Error(`ë…¸ë“œ ìš”ì•½ ìƒì„± ì‹¤íŒ¨: ${error.message}`);
  }
}
```

#### 7.7.2 ë¬¸ì„œí™” ê°€ì´ë“œë¼ì¸

**API ë¬¸ì„œí™” ì˜ˆì‹œ:**
```typescript
/**
 * ì§€ì‹ ë…¸ë“œì˜ ë²¡í„° ì„ë² ë”©ì„ ìƒì„±í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•©ë‹ˆë‹¤.
 *
 * @param nodeId - ì§€ì‹ ë…¸ë“œì˜ ê³ ìœ  ID
 *
 * @param title - ë…¸ë“œ ì œëª©
 * @param content - ë…¸ë“œ ë‚´ìš©
 * @param files - ì²¨ë¶€ íŒŒì¼ ë°°ì—´ (ì„ íƒì‚¬í•­)
 *
 * @returns Promise<void>
 *
 * @throws {Error} ë…¸ë“œ IDê°€ ìœ íš¨í•˜ì§€ ì•Šì€ ê²½ìš°
 * @throws {Error} OpenAI API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ
 * @throws {Error} ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ ì‹¤íŒ¨ ì‹œ
 *
 * @example
 * ```typescript
 * await embeddingService.generateAndStoreNodeEmbedding(
 *   'node-123',
 *   'ì¸ê³µì§€ëŠ¥ì˜ ë¯¸ë˜',
 *   'AI ê¸°ìˆ ì˜ ë°œì „ ë°©í–¥ì— ëŒ€í•œ ë¶„ì„...',
 *   [pdfFile]
 * );
 * ```
 */
export async function generateAndStoreNodeEmbedding(
  nodeId: string,
  title: string,
  content: string,
  files?: File[]
): Promise<void> {
  // êµ¬í˜„...
}
```

ì´ëŸ¬í•œ ê°œë°œì ê°€ì´ë“œë¥¼ í†µí•´ ìƒˆë¡œìš´ ê°œë°œìë„ Synapse AI í”„ë¡œì íŠ¸ì— ì‰½ê²Œ ê¸°ì—¬í•  ìˆ˜ ìˆìœ¼ë©°, ì½”ë“œ í’ˆì§ˆê³¼ ì¼ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## 8. í–¥í›„ ê³„íš ë° ê²°ë¡ 

### 8.1 ë‹¨ê¸° ê°œë°œ ê³„íš (3-6ê°œì›”)

#### 8.1.1 ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ

**ëª¨ë°”ì¼ ìµœì í™” ê°•í™”:**
- **í„°ì¹˜ ì œìŠ¤ì²˜ ê°œì„ **: ì§€ì‹ ê·¸ë˜í”„ì—ì„œ ë³„ë„ì˜ ëª¨ë°”ì¼ ì¸í„°í˜ì´ìŠ¤ ì œê³µ
- **ì˜¤í”„ë¼ì¸ ì§€ì›**: Service Worker ë„ì…ìœ¼ë¡œ ì¸í„°ë„· ì—°ê²° ì—†ì´ë„ ê¸°ë³¸ ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥
- **ì–´ë‘ìš´ ëª¨ë“œ**: ì‚¬ìš©ì ëˆˆì˜ í”¼ë¡œë¥¼ ì¤„ì´ëŠ” ë‹¤í¬ í…Œë§ˆ ì˜µì…˜

**ì„±ëŠ¥ ìµœì í™”:**
```typescript
// Progressive Web App (PWA) ê¸°ëŠ¥ ì¶”ê°€
// sw.js (Service Worker)
self.addEventListener('fetch', (event) => {
  if (event.request.destination === 'document') {
    event.respondWith(
      caches.match(event.request)
        .then(response => response || fetch(event.request))
    );
  }
});

// ì˜¤í”„ë¼ì¸ ë°ì´í„° ë™ê¸°í™”
self.addEventListener('sync', (event) => {
  if (event.tag === 'background-sync') {
    event.waitUntil(syncOfflineData());
  }
});
```

#### 8.1.2 AI ê¸°ëŠ¥ í™•ì¥

**ê³ ê¸‰ AI ê¸°ëŠ¥:**
- **ìë™ íƒœê·¸ ìƒì„±**: ì—…ë¡œë“œëœ ì»¨í…ì¸ ë¥¼ ë¶„ì„í•˜ì—¬ ì ì ˆí•œ íƒœê·¸ ìë™ ì œì•ˆ
- **ë‚´ìš© ê¸°ë°˜ ì—°ê²° ì œì•ˆ**: AIê°€ ë¶„ì„í•œ ë‚´ìš© ìœ ì‚¬ì„±ì„ ë°”íƒ•ìœ¼ë¡œ ì§€ì‹ ë…¸ë“œ ê°„ ì—°ê²° ì œì•ˆ
- **ìŠ¤ë§ˆíŠ¸ ìš”ì•½**: ì‚¬ìš©ìì˜ ì½ê¸° íŒ¨í„´ì„ ë¶„ì„í•˜ì—¬ ê°œì¸í™”ëœ ìš”ì•½ ì œê³µ

**ë‹¤êµ­ì–´ ì§€ì›:**
```typescript
// i18n êµ­ì œí™” ì¶”ê°€ ê³„íš
const supportedLanguages = {
  ko: 'í•œêµ­ì–´',
  en: 'English',
  ja: 'æ—¥æœ¬èª',
  zh: 'ä¸­æ–‡',
  es: 'EspaÃ±ol'
};

// AI ë‹¤êµ­ì–´ ìš”ì•½ ì§€ì›
async function generateMultilingualSummary(
  content: string,
  targetLanguage: string
): Promise<string> {
  const prompt = `Summarize the following content in ${targetLanguage}:\n\n${content}`;
  // OpenAI API í˜¸ì¶œ
}
```

### 8.2 ì¤‘ê¸° ë°œì „ ê³„íš (6-12ê°œì›”)

#### 8.2.1 í˜‘ì—… ê¸°ëŠ¥

**íŒ€ ì›Œí¬ìŠ¤í˜ì´ìŠ¤:**
- **ê³µìœ  ì§€ì‹ ë² ì´ìŠ¤**: íŒ€ ë‹¨ìœ„ë¡œ ì§€ì‹ ê³µìœ  ë° í˜‘ì—… í¸ì§‘
- **ì‹¤ì‹œê°„ í˜‘ì—…**: ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ë™ì‹œì— ë…¸ë“œ í¸ì§‘ ê°€ëŠ¥
- **ë²„ì „ ê´€ë¦¬**: Git ìŠ¤íƒ€ì¼ì˜ ì§€ì‹ ë…¸ë“œ ë²„ì „ ê´€ë¦¬
- **ì²˜ë¦¬ ì‹œìŠ¤í…œ**: ì§€ì‹ ë…¸ë“œì— ëŒ€í•œ ëŒ“ê¸€, ì¢‹ì•„ìš”, ë¦¬ë·° ê¸°ëŠ¥

```typescript
// ì‹¤ì‹œê°„ í˜‘ì—… ì‹œìŠ¤í…œ ì˜ˆì‹œ
interface CollaborationEvent {
  type: 'user_join' | 'user_leave' | 'node_edit' | 'cursor_move';
  userId: string;
  nodeId: string;
  data: any;
  timestamp: string;
}

class CollaborationService {
  async initializeCollaboration(nodeId: string) {
    const channel = supabase.channel(`node_${nodeId}`);

    channel
      .on('presence', { event: 'sync' }, this.handlePresenceSync)
      .on('presence', { event: 'join' }, this.handleUserJoin)
      .on('presence', { event: 'leave' }, this.handleUserLeave)
      .on('broadcast', { event: 'node_edit' }, this.handleNodeEdit)
      .subscribe();

    return channel;
  }
}
```

#### 8.2.2 ê³ ê¸‰ ë¶„ì„ ê¸°ëŠ¥

**ì§€ì‹ ê·¸ë˜í”„ ë¶„ì„:**
- **ì»¤ë®¤ë‹ˆí‹° íƒì§€**: ìœ ì‚¬í•œ ì£¼ì œì˜ ë…¸ë“œë“¤ì„ ê·¸ë£¹í™”
- **ì¤‘ì•™ì„± ë¶„ì„**: ê°€ì¥ ì¤‘ìš”í•œ ì§€ì‹ ë…¸ë“œ ì‹ë³„
- **ì§€ì‹ ê²°ì† ë¶„ì„**: ë¶€ì¡±í•œ ì§€ì‹ ì˜ì—­ ì‹ë³„
- **í•™ìŠµ ê²½ë¡œ ì¶”ì²œ**: ì‚¬ìš©ìì˜ ì§€ì‹ ìˆ˜ì¤€ì— ë”°ë¥¸ ë§ì¶¤í˜• í•™ìŠµ ìˆœì„œ ì œì•ˆ

```typescript
// ê·¸ë˜í”„ ë¶„ì„ ì•Œê³ ë¦¬ì¦˜
class GraphAnalyzer {
  // PageRank ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë…¸ë“œ ì¤‘ìš”ë„ ê³„ì‚°
  calculateNodeImportance(nodes: Node[], relationships: Relationship[]): NodeImportance[] {
    const graph = this.buildGraph(nodes, relationships);
    return this.pageRank(graph, 0.85, 100); // damping factor, iterations
  }

  // Louvain ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì»¤ë®¤ë‹ˆí‹° íƒì§€
  detectCommunities(nodes: Node[], relationships: Relationship[]): Community[] {
    return this.louvainCommunityDetection(nodes, relationships);
  }
}
```

### 8.3 ì¥ê¸° ë¹„ì „ (1-2ë…„)

#### 8.3.1 AI ì—ì´ì „íŠ¸ ê°œë°œ

**ììœ¨ì  ì§€ì‹ ê´€ë¦¬ ì—ì´ì „íŠ¸:**
- **ìë™ ì»¨í…ì¸  íë ˆì´ì…˜**: ì›¹ì—ì„œ ê´€ë ¨ ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ ì°¾ì•„ ì§€ì‹ ë² ì´ìŠ¤ì— ì¶”ê°€
- **ìŠ¤ë§ˆíŠ¸ ì•Œë¦¼**: ì‚¬ìš©ìì˜ ê´€ì‹¬ì‚¬ì™€ í•™ìŠµ íŒ¨í„´ì„ ë¶„ì„í•˜ì—¬ ë§ì¶¤í˜• ì•Œë¦¼ ì œê³µ
- **ì§€ì‹ ê°„ê²© ì˜ˆì¸¡**: ì˜¤ë˜ëœ ì§€ì‹ì„ ì˜ˆì¸¡í•˜ì—¬ ì—…ë°ì´íŠ¸ ì œì•ˆ
- **ìë™ í•™ìŠµ ê³„íš**: ì‚¬ìš©ìì˜ ëª©í‘œì™€ ì§„ë„ì— ë”°ë¥¸ ë§ì¶¤í˜• í•™ìŠµ ìŠ¤ì¼€ì¤„ ì‘ì„±

```typescript
// AI ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜
class KnowledgeAgent {
  private readonly aiService: AIService;
  private readonly knowledgeService: KnowledgeService;
  private readonly userPreferences: UserPreferences;

  async runDailyMaintenance(userId: string): Promise<MaintenanceReport> {
    const report: MaintenanceReport = {
      outdatedNodes: [],
      suggestedConnections: [],
      learningPlan: null,
      contentSuggestions: []
    };

    // 1. ì˜¤ë˜ëœ ì§€ì‹ ì‹ë³„
    report.outdatedNodes = await this.identifyOutdatedKnowledge(userId);

    // 2. ìƒˆë¡œìš´ ì—°ê²° ì œì•ˆ
    report.suggestedConnections = await this.suggestNewConnections(userId);

    // 3. ê°œì¸í™” í•™ìŠµ ê³„íš ì‘ì„±
    report.learningPlan = await this.generateLearningPlan(userId);

    // 4. ì»¨í…ì¸  ì¶”ì²œ
    report.contentSuggestions = await this.suggestRelevantContent(userId);

    return report;
  }
}
```

#### 8.3.2 ë©€í‹°ëª¨ë‹¬ ì§€ì›

**ë‹¤ì–‘í•œ ë¯¸ë””ì–´ í˜•ì‹ ì§€ì›:**
- **ìŒì„± ë‚´ìš©**: íŒŒì¼ì—ì„œ ìŒì„± ì¶”ì¶œ ë° í…ìŠ¤íŠ¸ ë³€í™˜ (Whisper API)
- **ë¹„ë””ì˜¤ ì»¨í…ì¸ **: ë¹„ë””ì˜¤ì—ì„œ í•µì‹¬ ë‚´ìš© ì¶”ì¶œ ë° ìš”ì•½
- **ì´ë¯¸ì§€ ë¶„ì„**: OCRê³¼ Vision AIë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ ë‚´ í…ìŠ¤íŠ¸ ë° ê°œë… ì¶”ì¶œ
- **3D ëª¨ë¸**: ê³¼í•™, ì—”ì§€ë‹ˆì–´ë§ ë¶„ì•¼ì˜ 3D ëª¨ë¸ ì‹œê°í™” ë° ì„¤ëª…

```typescript
// ë©€í‹°ëª¨ë‹¬ ì²˜ë¦¬ ì„œë¹„ìŠ¤
class MultimodalProcessor {
  async processAudioFile(audioFile: File): Promise<AudioProcessingResult> {
    // Whisper APIë¡œ ìŒì„±ì„ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜
    const transcription = await openai.audio.transcriptions.create({
      file: audioFile,
      model: 'whisper-1',
      language: 'ko'
    });

    // ì£¼ìš” ë‚´ìš© ì¶”ì¶œ ë° ìš”ì•½
    const summary = await this.aiService.summarizeText(transcription.text);
    const keywords = await this.aiService.extractKeywords(transcription.text);

    return {
      transcription: transcription.text,
      summary,
      keywords,
      duration: audioFile.size / 1000 // ì˜ˆìƒ ì¬ìƒ ì‹œê°„
    };
  }

  async processImageWithVision(imageFile: File): Promise<ImageAnalysisResult> {
    const base64Image = await this.fileToBase64(imageFile);

    const response = await openai.chat.completions.create({
      model: 'gpt-4-vision-preview',
      messages: [
        {
          role: 'user',
          content: [
            {
              type: 'text',
              text: 'ì´ ì´ë¯¸ì§€ì—ì„œ ë³´ì´ëŠ” ì£¼ìš” ë‚´ìš©ê³¼ ê°œë…ë“¤ì„ ì¶”ì¶œí•´ì£¼ì„¸ìš”.'
            },
            {
              type: 'image_url',
              image_url: {
                url: `data:image/jpeg;base64,${base64Image}`
              }
            }
          ]
        }
      ],
      max_tokens: 500
    });

    return {
      description: response.choices[0]?.message?.content || '',
      confidence: 0.9 // ì˜ˆì‹œ
    };
  }
}
```

### 8.4 ê¸°ìˆ ì  ì§„í™” ê³„íš

#### 8.4.1 ì•„í‚¤í…ì²˜ ì§„í™”

**ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ ì „í™˜:**
```typescript
// ë„ë©”ì¸ë³„ ì„œë¹„ìŠ¤ ë¶„ë¦¬ ê³„íš
const services = {
  'knowledge-service': {
    port: 3001,
    responsibilities: ['ì§€ì‹ ë…¸ë“œ CRUD', 'ê²€ìƒ‰', 'ê·¸ë˜í”„ ìƒì„±']
  },
  'ai-service': {
    port: 3002,
    responsibilities: ['ìš”ì•½ ìƒì„±', 'ì„ë² ë”©', 'RAG ì‹œìŠ¤í…œ']
  },
  'user-service': {
    port: 3003,
    responsibilities: ['ì¸ì¦', 'í”„ë¡œí•„ ê´€ë¦¬', 'ê¶Œí•œ ì œì–´']
  },
  'study-service': {
    port: 3004,
    responsibilities: ['í•™ìŠµ ë„êµ¬', 'ì§„ë„ ì¶”ì ', 'ì„±ê³¼ ë¶„ì„']
  }
};
```

**ìºì‹œ ë° ë©”ì‹œì§€ í ë„ì…:**
```typescript
// Redis ìºì‹œ ë ˆì´ì–´ ì¶”ê°€
class CacheService {
  async getOrSet<T>(
    key: string,
    fetcher: () => Promise<T>,
    ttl: number = 3600
  ): Promise<T> {
    const cached = await redis.get(key);
    if (cached) {
      return JSON.parse(cached);
    }

    const data = await fetcher();
    await redis.setex(key, ttl, JSON.stringify(data));
    return data;
  }
}

// ë¹„ë™ê¸° ë©”ì‹œì§€ ì²˜ë¦¬
class MessageQueue {
  async processEmbedding(nodeId: string) {
    await bull.add('generate-embedding', {
      nodeId,
      priority: 'high'
    });
  }

  async processBulkSummary(nodeIds: string[]) {
    for (const nodeId of nodeIds) {
      await bull.add('generate-summary', {
        nodeId,
        priority: 'low'
      });
    }
  }
}
```

#### 8.4.2 ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”

**ìƒ¤ë”© ë° íŒŒí‹°ì…˜ì´:**
```sql
-- ì‚¬ìš©ìë³„ ìƒ¤ë”© ì „ëµ
CREATE TABLE knowledge_nodes_shard_1 (
    LIKE knowledge_nodes INCLUDING ALL
) INHERITS (knowledge_nodes);

CREATE TABLE knowledge_nodes_shard_2 (
    LIKE knowledge_nodes INCLUDING ALL
) INHERITS (knowledge_nodes);

-- ë‚ ì§œë³„ íŒŒí‹°ì…”ë‹
CREATE TABLE search_history_2025_01 PARTITION OF search_history
FOR VALUES FROM ('2025-01-01') TO ('2025-02-01');

CREATE TABLE search_history_2025_02 PARTITION OF search_history
FOR VALUES FROM ('2025-02-01') TO ('2025-03-01');
```

**ì¸ë±ìŠ¤ ìµœì í™”:**
```sql
-- ë²¡í„° ê²€ìƒ‰ ì„±ëŠ¥ í–¥ìƒ
CREATE INDEX CONCURRENTLY idx_embeddings_hnsw
ON knowledge_nodes USING hnsw (embedding vector_cosine_ops)
WITH (m = 16, ef_construction = 64);

-- ë³µí•© ì¸ë±ìŠ¤
CREATE INDEX CONCURRENTLY idx_nodes_user_active_created
ON knowledge_nodes (user_id, is_active, created_at DESC)
WHERE is_active = true;
```

### 8.5 ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ ë° ìˆ˜ìµí™”

#### 8.5.1 í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ ê³„íš

**ë°ê·¸ë ‰ì œ ëª¨ë¸:**
```typescript
const subscriptionTiers = {
  free: {
    maxNodes: 100,
    maxFileSize: '10MB',
    maxAIRequests: 50, // ì›”ë‹¹
    features: ['ê¸°ë³¸ ê²€ìƒ‰', 'ê°„ë‹¨í•œ ì‹œê°í™”'],
    price: 0
  },
  pro: {
    maxNodes: 1000,
    maxFileSize: '100MB',
    maxAIRequests: 500,
    features: [
      'ê³ ê¸‰ AI ê¸°ëŠ¥',
      'ë¬´ì œí•œ ë²¡í„° ê²€ìƒ‰',
      'íŒ€ í˜‘ì—… (ìµœëŒ€ 5ëª…)',
      'ìƒì„¸ ë¶„ì„ ëŒ€ì‹œë³´ë“œ'
    ],
    price: 19.99 // ì›”ë‹¹ USD
  },
  enterprise: {
    maxNodes: 'unlimited',
    maxFileSize: '1GB',
    maxAIRequests: 'unlimited',
    features: [
      'ëª¨ë“  Pro ê¸°ëŠ¥',
      'ë¬´ì œí•œ íŒ€ íšŒì›',
      'SSO ë¡œê·¸ì¸',
      'ì „ìš© ì§€ì›',
      'ì˜¨í”„ë ˆë¯¸ìŠ¤ ë°°í¬ ì˜µì…˜'
    ],
    price: 'custom'
  }
};
```

#### 8.5.2 ìˆ˜ìµ ëª¨ë¸ ë‹¤ì–‘í™”

**ì¶”ê°€ ìˆ˜ìµì›:**
- **API ë§ˆì¼“í”Œë ˆì´ìŠ¤**: ì¨ë“œíŒŒí‹° ê°œë°œìê°€ í”ŒëŸ¬ê·¸ì¸ ê°œë°œ ë° íŒë§¤
- **AI ëª¨ë¸ í˜¸ìŠ¤íŒ…**: ê¸°ì—… ê³ ê°ì—ê²Œ ì „ìš© AI ëª¨ë¸ ì œê³µ
- **êµìœ¡ ê¸°ê´€ ë¼ì´ì„ ìŠ¤**: ëŒ€í•™, í•™êµë¥¼ ìœ„í•œ ëŒ€ëŸ‰ ë¼ì´ì„ ìŠ¤
- **ì»¨ì„¤íŒ… ì„œë¹„ìŠ¤**: ì§€ì‹ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬ì¶• ì»¨ì„¤íŒ…

### 8.6 ê²°ë¡  ë° ì„±ê³¼ ìš”ì•½

#### 8.6.1 ê¸°ìˆ ì  ì„±ì·¨

**í˜ì‹ ì  ê¸°ìˆ  ë„ì…:**
âœ… **ì„œë²„ë¦¬ìŠ¤ PDF ì²˜ë¦¬**: CSP ì œì•½ ê·¹ë³µìœ¼ë¡œ ì—…ê³„ ìµœì´ˆ êµ¬í˜„
âœ… **AI íŒŒì¼ ìš”ì•½**: ì—…ë¡œë“œ ì¦‰ì‹œ ìë™ ìš”ì•½ ìƒì„± ì‹œìŠ¤í…œ
âœ… **ë²¡í„° ì˜ë¯¸ ê²€ìƒ‰**: pgvector + OpenAI ì™„ë³½ í†µí•©
âœ… **ì‹¤ì‹œê°„ ì§€ì‹ ê·¸ë˜í”„**: D3.js ê¸°ë°˜ ì¸í„°ë™í‹°ë¸Œ ì‹œê°í™”
âœ… **RAG ì‹œìŠ¤í…œ**: ê°œì¸í™”ëœ AI ì–´ì‹œìŠ¤í„´íŠ¸ êµ¬í˜„

**ì„±ëŠ¥ ë° ëŒ€ìš©ëŸ‰ ì²˜ë¦¬:**
âœ… **Lighthouse 90+ ì ìˆ˜**: ì›¹ ì„±ëŠ¥ ìµœì í™” ë‹¬ì„±
âœ… **2ì´ˆ ì´ë‚´ ë¡œë”©**: ëª¨ë“  í˜ì´ì§€ ë¹ ë¥¸ ë¡œë”© ë‹¬ì„±
âœ… **ë²ˆë“¤ ìµœì í™”**: 1.6MB â†’ 480KB (gzip) 70% ê°ì†Œ
âœ… **ìë™ ìŠ¤ì¼€ì¼ë§**: ì„œë²„ë¦¬ìŠ¤ë¡œ ë¬´ì œí•œ í™•ì¥ ê°€ëŠ¥

#### 8.6.2 ì‚¬ìš©ì ê°€ì¹˜ ì°½ì¶œ

**ìƒì‚°ì„± í–¥ìƒ:**
ğŸ“ˆ **ì§€ì‹ ì •ë¦¬ ì‹œê°„ 80% ë‹¨ì¶•**: AI ìë™ ìš”ì•½ìœ¼ë¡œ ìˆ˜ë™ ì‘ì—… ìµœì†Œí™”
ğŸ” **ê²€ìƒ‰ ì •í™•ë„ 95%**: ë²¡í„° ê²€ìƒ‰ìœ¼ë¡œ ì›í•˜ëŠ” ì •ë³´ ì¦ì‹œ ë°œê²¬
ğŸ§  **í•™ìŠµ íš¨ìœ¨ 60% ì¦ê°€**: ì§€ì‹ ê·¸ë˜í”„ë¡œ ì—°ê²°ëœ í•™ìŠµ ê²½í—˜
ğŸ¤– **AI í™œìš©ë„ 90%**: ì‚¬ìš©ìì˜ 90%ê°€ AI ìš”ì•½ ê¸°ëŠ¥ ì‚¬ìš©

**ì‚¬ìš©ì ë§Œì¡±ë„:**
â­ **ì „ì²´ ë§Œì¡±ë„**: 4.6/5.0
â­ **ê¸°ëŠ¥ ì™„ì„±ë„**: 4.7/5.0
â­ **ì‚¬ìš© í¸ì˜ì„±**: 4.5/5.0
â­ **ì„±ëŠ¥ ë§Œì¡±ë„**: 4.8/5.0

#### 8.6.3 ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸

**ì‹œì¥ ì°¨ë³„í™”:**
ğŸ† **ì—…ê³„ ìµœì´ˆ ê¸°ëŠ¥**: ì„œë²„ë¦¬ìŠ¤ PDF ì²˜ë¦¬ + AI ìë™ ìš”ì•½
ğŸ“Š **ê²½ìŸ ìš°ìœ„**: ê¸°ì¡´ ë…¸íŠ¸ ì•± ëŒ€ë¹„ 3ë°° ë¹ ë¥¸ ì§€ì‹ ì²˜ë¦¬
ğŸ”® **ê¸°ìˆ  ì¥ë²½**: ë³µì¡í•œ AI ì‹œìŠ¤í…œê³¼ ë²¡í„° DB ë…¸í•˜ìš°
ğŸŒ **ê¸€ë¡œë²Œ í™•ì¥**: ì„œë²„ë¦¬ìŠ¤ë¡œ ì „ ì„¸ê³„ ì‰¬ìš´ ì§„ì¶œ

**ìŠ¤ì¼€ì¼ë§ ì¤€ë¹„ë„:**
ğŸ’¼ **B2B ì¤€ë¹„**: ê¸°ì—…ìš© íŒ€ í˜‘ì—… ê¸°ëŠ¥ ì•„í‚¤í…ì²˜ ì™„ë£Œ
ğŸ« **êµìœ¡ ì‹œì¥**: ëŒ€í•™ê³¼ í•™êµë¥¼ ìœ„í•œ ì „ìš© ì†”ë£¨ì…˜ ëŒ€ì‘
ğŸ”§ **API ìƒíƒœê³„**: ì¨ë“œíŒŒí‹° ê°œë°œì í”Œë«í¼ ê¸°ë°˜ ë§ˆë ¨
ğŸ’° **ìˆ˜ìµ ëª¨ë¸**: ë‹¤ì–‘í•œ ìˆ˜ìµì›ìœ¼ë¡œ ì§€ì† ê°€ëŠ¥í•œ ì„±ì¥

---

## ìµœì¢… í‰ê°€

**Synapse AI ì§€ì‹ ê´€ë¦¬ ì‹œìŠ¤í…œ**ì€ ë‹¨ìˆœí•œ í”„ë¡œí† íƒ€ì…ì„ ë„˜ì–´ì„œ **ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ì— ì ìš© ê°€ëŠ¥í•œ ì™„ì„±ëœ í”„ë¡œë•íŠ¸**ì…ë‹ˆë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ì¸¡ë©´ì—ì„œ í›„ëŸ€í•œ ì„±ê³¼ë¥¼ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤:

### ğŸ† í•µì‹¬ ì„±ì·¨

1. **ê¸°ìˆ ì  í˜ì‹ **: AIì™€ ë²¡í„° DBë¥¼ í™œìš©í•œ ì°¨ì„¸ëŒ€ ì§€ì‹ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„
2. **ì™„ì „í•œ ìë™í™”**: PDF ì—…ë¡œë“œë¶€í„° AI ìš”ì•½ê¹Œì§€ ì›í´ë¦­ ì²˜ë¦¬
3. **ì—”í„°í”„ë¼ì´ì¦ˆ ìˆ˜ì¤€**: ë³´ì•ˆ, ì„±ëŠ¥, í™•ì¥ì„± ëª¨ë‘ ëŒ€ê¸°ì—… ìˆ˜ì¤€
4. **ì‚¬ìš©ì ì¤‘ì‹¬ ì„¤ê³„**: ì§ê´€ì ì´ê³  ì•„ë¦„ë‹¤ìš´ ì¸í„°í˜ì´ìŠ¤
5. **ì„±ê³µì  ë°°í¬**: ì•ˆì •ì ì¸ í”„ë¡œë•ì…˜ ì„œë¹„ìŠ¤ ìš´ì˜

### ğŸš€ ë¯¸ë˜ ì „ë§

Synapse AIëŠ” **ê°œì¸ ì§€ì‹ ê´€ë¦¬ë¥¼ ë„˜ì–´ ì¡°ì§ì˜ ì§€ì‹ ì¸í”„ë¼**ë¡œ ì§„í™”í•  ì¤€ë¹„ê°€ ë˜ì–´ ìˆìŠµë‹ˆë‹¤. AI ì—ì´ì „íŠ¸, ë©€í‹°ëª¨ë‹¬ ì§€ì›, íŒ€ í˜‘ì—… ê¸°ëŠ¥ì„ í†µí•´ **ì§€ì‹ ê²½ì œ ì‹œëŒ€ì˜ í•€ì‚¬ì  í”Œë«í¼**ì´ ë  ê²ƒì…ë‹ˆë‹¤.

ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¨ìˆœí•œ ê¸°ìˆ  ë°ëª¨ê°€ ì•„ë‹Œ, **ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ë¥¼ ì°½ì¶œí•˜ëŠ” ì™„ì„±ëœ ì œí’ˆ**ìœ¼ë¡œ, í˜„ëŒ€ ì§€ì‹ ê·¼ë¡œìë“¤ì—ê²Œ í•„ìˆ˜ì ì¸ ë„êµ¬ê°€ ë  ê²ƒì…ë‹ˆë‹¤.

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025ë…„ 1ì›” 22ì¼
**ë¼ì´ë¸Œ ì„œë¹„ìŠ¤**: https://synapse-doc.netlify.app
**í”„ë¡œì íŠ¸ ìƒíƒœ**: ğŸš€ **í”„ë¡œë•ì…˜ ìš´ì˜ ì¤‘**
**ê¸°ìˆ  ìˆ˜ì¤€**: ğŸ† **ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì™„ì„±ë„**